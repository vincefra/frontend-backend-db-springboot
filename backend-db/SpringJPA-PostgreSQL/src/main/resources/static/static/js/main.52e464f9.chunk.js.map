{"version":3,"sources":["components/main/vizCircle/actions.js","components/main/vizCircle/VizClient.js","components/main/vizCircle/Employee.js","components/main/vizCircle/VizEmployees.js","components/main/vizCircle/VizCircle.js","components/main/vizCircle/Skills.js","components/main/legend/LegendItem.js","components/main/general.js","components/main/legend/Legend.js","components/main/dialogue/Dialogue.js","components/main/vizTimeline/Filter.js","components/main/vizTimeline/VizTimeline.js","components/main/search/actions.js","components/main/search/Result.js","components/main/search/Search.js","components/main/breadcrumb/Breadcrumb.js","components/main/tagList/tag.js","components/main/tagList/tagList.js","components/main/header/Header.js","components/main/loader/Loader.js","components/main/title/Title.js","server/main/api.js","server/main/utilities/index.js","server/main/index.js","components/main/interactions.js","pages/Main.js","components/employee/header/Header.js","components/employee/loader/Loader.js","server/employee/utilities/index.js","components/employee/profile/Profile.js","components/employee/barChart/Dialogue.js","components/employee/barChart/BarChart.js","components/employee/barChart/drawChart.js","components/employee/bubbleChart/BubbleChart.js","components/employee/pieChart/action.js","components/employee/pieChart/Slice.js","components/employee/pieChart/CategoryPieChart.js","components/employee/mobileView/MobileView.js","server/employee/api.js","server/employee/index.js","pages/EmployeeView.js","App.js","serviceWorker.js","index.js"],"names":["sliceHeight","projectHeight","projectRadius","imageSize","imageDistance","projectPadding","Math","PI","clientArcPadding","maxSkills","calculatePieClient","props","radius","arcGenerator","d3","padAngle","cornerRadius","LogoArcGenerator","outerRadius","innerRadius","arcs","sort","value","d","type","hours","pie","annularSectors","console","log","projectSlice","clientSlice","map","i","anchor","path","startAngle","endAngle","centroid","textAnchor","textPos","halfImage","logo","data","projects","filter","project","includes","id","projectSlices","initAngle","angleScale","domain","range","brushedDisplay","calculatePieProject","concat","fill","color","img","highlight","createLinks","skills","highlightedSkills","skill","name","children","length","slice","root","a","b","localeCompare","treeLayout","nodes","node","angle","x","textRotation","anchorText","getInitials","splitted","split","charAt","VizClient","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","currentShowingProject","height","size","_calculatePieClient","setState","_calculatePieClient2","_ref","_this$props","mouseOnProject","mouseOutProject","_this2","width","clients","react_default","createElement","transform","key","opacity","stroke","fillOpacity","strokeWidth","selected","onMouseOver","mouseOnClient","onMouseOut","mouseOutClient","onClick","clientClick","showProject","clientLogos","text","y","textHighlight","className","xlinkHref","Fragment","React","Component","Employee","circle","maskName","fillMask","image","r","cy","pY","cx","pX","dominantBaseline","fontSize","mouseOnEmployee","href","VizEmployees","handleMouseOn","currentShowingEmployee","employees","arguments","undefined","setLayout","prevProps","sameEmployees","_ref2","mouseOutEmployee","toggleDialogue","prevEmpl","nextEmpl","pIds","e","nIds","packLayout","padding","sum","_","flayout","layout","diameter","employeeLayout","vizCircle_Employee","showEmployee","ref","VizCircle","vizClients","vizCircle_VizClient","unHighlightElements","vizCircle_VizEmployees","LegendItem","setText","label","role","onMouseEnter","overEvent","onMouseLeave","outEvent","icon","getObjects","ids","list","union","push","apply","toConsumableArray","Legend","totalClients","totalProjects","totalEmployees","totalSkills","refresh","resetLegends","projectsCount","refreshLegends","equal","client","employee","calculateData","calculateClient","calculateProject","calculateEmployee","p","forEach","brushedProjects","brushedClientIds","clientId","_ref3","_ref4","clientIds","c","prev","current","_this$state","legend_LegendItem","placeholder","process","Dialogue","location","description","dateInit","dateEnd","birthYear","react_router_dom","to","Button","clientName","moment","format","category","roll","src","alt","dialogueIsShown","dialogueInfo","imageDisplay","setImage","setCategory","setName","Range","createSliderWithTooltip","Slider","Filter","getFormatedDate","month","formatDate","pos0","filterPosition","pos1","min","minFilterValue","max","maxFilterValue","defaultValue","defaultValueMin","defaultValueMax","steps","onChange","afterChangeFunction","tipFormatter","margin","VizTimeline","xAxis","monthAxis","yearAxis","ticks","every","scale","xScale","tickPadding","tickSize","monthHeight","tickFormat","refs","barHeight","numLevels","bars","selectProject","level","rx","ry","vizTimeline_Filter","beforeVal","afterVal","filterName","filterLeftValue","filterRightValue","totalProjectsMonths","step","modifyRange","axisMonths","displayTimeline","nextProps","prevState","extent","moreProjects","find","Date","element","j","subElement","search","word","selectedObjects","srchWord","toLowerCase","projectResults","searchType","existsInArray","employeesResults","skillsResults","s","clientsResults","obj","arr","removeItem","item","IArray","o","getIcon","Result","mouseOverHandler","getProjectLogo","showObjectInformation","objectSpread","removeObject","removeSelectedObject","clickHandler","clearSearch","onMouseDown","Search","handleChange","results","target","searchWord","focus","removeFromResults","handleClick","contains","handleClickOutside","document","removeEventListener","handleEsc","blur","focusElement","addEventListener","FormControl","index","search_Result","addSelectedObject","Breadcrumb","crumbs","clickedClient","isEqual","breadcrumbClick","bind","Tag","object","tagList","tag","Header","Navbar","variant","expand","Form","inline","onSubmit","preventDefault","search_Search","main_tagList_tagList","breadcrumb_Breadcrumb","Loader","Title","isHighlighted","title","apiRoute","fetchEmployee","_fetchEmployee","_callee","requestURL","options","response","regenerator_default","wrap","_context","next","url","responseType","method","axios","sent","t0","abrupt","status","stop","fetchCustomer","_fetchCustomer","_callee2","_context2","fetchProject","_fetchProject","_callee3","_context3","fetchProjectCount","_fetchProjectCount","_callee4","_context4","maxAnnularSectors","colorThief","ColorThief","getColor","Promise","resolve","reject","Image","onload","dominantColor","parseInt","toString","join","onerror","imageExists","groupCategories","_x","_groupCategories","grouped","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_client","sorted","counter","imageSrc","_clients","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","categories","Symbol","iterator","done","return","finish","t1","keys","t2","trim","replace","t3","t4","getLargestClients","clientList","other","_other$projects","_other$clients","getClients","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","err","dateFormat","load","_load","projectList","employeeList","technologyList","unsortedClients","getData","getTechList","getClientId","getClientColor","updateClient","updateEmployee","getEmployeeList","getDates","_ref5","technologyIdCounter","startDates","endDates","endDate","startDateList","date","endDateList","startDate","endDateSplitted","year","endOf","projectId","employeeId","duration","t","technologies","technology","techObj","Error","firstName","lastName","startYear","endYear","_getDates","floor","diff","asHours","setHighlight","modArray","setHighlightElement","idArray","ifIncludes","setHighlightText","highlightText","unHighlightText","highlightElementWithSkill","projectsHighLight","getElementById","array","brushObjectByDate","objArr","initDate","InBruMonth","OutBruMonth","pInit","getMonthsDifference","pEnd","reCalculateClientHours","IDate","ODate","count","getDateFromStep","add","resetBrushedDisplay","ModArray","setSelectedState","refArray","removeNonRepeatedObj","outArray","objects","inArray","mergeRepeated","inArr","Array","from","Set","addSelected","selectedData","removeSelected","stateData","selectedTagList","selectedClients","selectedEmployees","selectedSkills","selectedProjects","delObj","dataFromSelectedObjects","objs","locations","getDataFromSelectedObjects","getObjectsFromState","getDateRange","initDates","toDate","getBrushedProjectsEmployees","employeesId","window","innerWidth","innerHeight","Main","showSkill","ans","highlightedSectors","highlightedEmployees","filteredEmployees","highlightedProjects","filteredProjects","highligtedSectors","filteredSkills","highlightedProject","modifyDialogueInfo","brushedProjectIds","highlightedEmployee","showClient","eId","highlightedClient","unhighligtedSectors","unhighlightedProjects","unhighlightedEmployees","unhighlightedSkills","toggle","allObjects","filteredObjects","filteredClients","selectedState","filteredSelectedObjects","newSelectedObject","brushDates","initMonth","enMonth","datesBrushed","getDateFormated","highlightElements","resetClickedClient","skillList","setClickedClient","currentView","containsCategory","_isMounted","isLoading","isMobileView","initialDates","elementOver","info","annularSector","employeeClicked","resize","selectedRange","totalMonths","mobileView","header","header_Header","title_Title","legend","legend_Legend","dialogue","dialogue_Dialogue","timeline","vizTimeline_VizTimeline","vizCircle","vizCircle_VizCircle","loader_Loader","history","goBack","categoryImageGetter","imagePath","skillsLogoGetter","colorGetter","logoUrl","Profile","ev","_this$props$profile","profile","profileImageGetter","Container","Row","Col","onError","addDefaultSrc","BarChart","recentData","chart","rangeBands","cummulative","companyName","returnValue","values","svg","append","attr","y_category","rangeRound","y_defect","y_category_domain","bandwidth","ceil","projectPeriod","style","category_g","selectAll","enter","on","groupedProjects","assertThisInitialized","barChart_Dialogue","BubbleChart","onClicked","currentCategory","drawBubble","focusedNode","categoryDataList","countCat","body","clientWidth","centerX","centerY","pack","forceCollide","simulation","force","strength","leaves","R","G","B","cat","select","remove","active","alphaTarget","restart","fx","fy","transition","ease","tween","String","classed","currentNode","stopPropagation","newColorR","newColorG","newColorB","currentTarget","lastNode","irl","ix","iy","ir","legendList","catValue","firstCategory","showData","categoryBtn","rgbColor","backgroundColor","calculatePercentage","projectCategoryNames","percentage","projectCategoryPercentages","getCategoryLogoColor","arrayColor","categoryLogo","Slice","arc","CategoryPieChart","d3Data","d3Color","data_ready","Slice_Slice","MobileView","api_URL","fetchData","_fetchData","employeeApiRequest","server_employee_getData","projectsBarChart","tech","_i","_technology","asMonths","t5","entries","employeeProfile","projectsBarChartData","match","params","mobileView_MobileView","employee_loader_Loader","employee_header_Header","xs","md","Profile_Profile","CategoryPieChart_CategoryPieChart","barChart_BarChart","bubbleChart_BubbleChart","App","react_router","exact","render","EmployeeView","pages_Main","Boolean","hostname","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.52e464f9.chunk.js","sourcesContent":["import * as d3 from 'd3';\n\nconst sliceHeight = 50;\nconst projectHeight = 25;\nconst projectRadius = sliceHeight / 2;\nconst imageSize = 40;\nconst imageDistance = 40;\nconst projectPadding = (2 * Math.PI) / 180;\nconst clientArcPadding = (1.2 * Math.PI) / 180;\nconst maxSkills = 40;\n\n//Create a pie chart with the clients total time in a project\nexport function calculatePieClient(props, radius) {\n  //arc generator for clients\n  const arcGenerator = d3\n    .arc()\n    .padAngle(clientArcPadding) //pad angle defines the distance between each arc\n    .cornerRadius(4); //cornerRadius\n\n  //arc generator for the Text labels\n  const LogoArcGenerator = d3\n    .arc()\n    .outerRadius(radius + imageDistance)\n    .innerRadius(radius + imageDistance);\n\n  //PIE object to calculate the arc distribution\n  const pie = d3\n    .pie()\n    .sort(null)\n    .value(function (d) {\n      return d.type === 'category' ? 3 : d.hours;\n    });\n  //arc array with the position and information in the pie\n  const arcs = pie(props.annularSectors);\n  console.log(props.annularSectors);\n\n    //create an object SLICES in order to update the state\n  //contains all the information one slice needs in order to be rendered\n  let projectSlice = [];\n  const clientSlice = arcs.map((d, i) => {\n    const path = arcGenerator({\n      startAngle: d.startAngle,\n      endAngle: d.endAngle,\n      innerRadius: radius - sliceHeight,\n      outerRadius: radius\n    });\n\n    const centroid = LogoArcGenerator.centroid(d);\n    //calculate the anchor point of the image depending on its position on the center\n    let anchor = centroid;\n    let textAnchor = 'start';\n    let textPos = centroid;\n    const textPaddingSides = 10;\n    const textPaddingUp = 5;\n    const halfImage = imageSize / 2;\n    anchor = [centroid[0] - halfImage, centroid[1] - halfImage];\n\n    if (anchor[0] > 0 && anchor[1] < 0) {\n      textPos = [centroid[0] + halfImage + textPaddingSides, centroid[1]];\n    } else if (anchor[0] < 0 && anchor[1] < 0) {\n      textPos = [centroid[0] - halfImage - textPaddingSides, centroid[1] + textPaddingUp];\n      textAnchor = 'end';\n    } else if (anchor[0] < 0 && anchor[1] > 0) {\n      textPos = [centroid[0] - halfImage - textPaddingSides, centroid[1] + textPaddingUp];\n      textAnchor = 'end';\n    } else if (anchor[0] > 0 && anchor[1] > 0) {\n      textPos = [centroid[0] + halfImage + textPaddingSides, centroid[1]];\n    }\n\n\n    const logo = {\n      centroid: anchor\n    };\n\n    if (d.data.type === 'client') {\n      const projects = props.projects.filter(project => d.data.projects.includes(project.id));\n      // const projects = getObjects(d.data.projects, props.projects);\n      const projectSlices = calculatePieProject(\n        d.startAngle + projectPadding,\n        d.endAngle - projectPadding,\n        projects,\n        radius\n      );\n      projectSlice = projectSlice.concat(projectSlices);\n    }\n\n    return {\n      path,\n      fill: d.data.color,\n      logo,\n      textAnchor: textAnchor,\n      textPos: textPos,\n      img: d.data.logo,\n      id: d.data.id,\n      highlight: d.data.highlight,\n      data: d.data,\n    };\n  });\n\n  return { clientSlice, projectSlice };\n}\n\n//add to the state slices of clients to draw\nfunction calculatePieProject(initAngle, endAngle, projects, radius) {\n  const angleScale = d3\n    .scaleLinear()\n    .domain([0, 2 * Math.PI])\n    .range([initAngle, endAngle]);\n  //arc generator for clients\n  const arcGenerator = d3\n    .arc()\n    .padAngle(0.013) //pad angle defines the distance between each arc\n    .cornerRadius(50); //cornerRadius\n  //PIE object to calculate the arc distribution\n  const pie = d3\n    .pie()\n    .sort(null)\n    .value(function (d) {\n      return d.brushedDisplay ? d.hours : 0;\n    });\n\n  //arc array with the position and information in the pie\n  const arcs = pie(projects);\n\n  //create an object SLICES in order to update the state\n  //contains all the information one slice needs in order to be rendered\n  const slices = arcs.map((d) => {\n    const path = arcGenerator({\n      startAngle: angleScale(d.startAngle),\n      endAngle: angleScale(d.endAngle),\n      innerRadius: radius - projectRadius - projectHeight / 2,\n      outerRadius: radius - projectRadius + projectHeight / 2,\n    });\n    d.path = path;\n    return d;\n  }).filter(d => d.data.brushedDisplay);\n  return slices;\n}\n\n//Create a hierarchy and sort it alphabetically\nexport function createLinks(skills) {\n  const highlightedSkills = skills.filter(skill => skill.highlight === true);\n  const children = highlightedSkills.length > maxSkills ? skills.slice(0, maxSkills) : highlightedSkills;\n  const skillsData = {\n    name: 'Front-End',\n    children\n  };\n\n  const data = skillsData;\n  const root = d3\n    .hierarchy(data)\n    .sort((a, b) => a.data.name.localeCompare(b.data.name));\n  const treeLayout = d3.tree();\n  const angleScale = d3\n    .scaleLinear()\n    .domain([0, 1])\n    .range([0, 360]);\n  const nodes = treeLayout(root);\n\n  for (let i in nodes.children) {\n    let node = nodes.children[i];\n    node.angle = angleScale(node.x); //set angle in radians\n    node.textRotation = -node.angle;\n    node.anchorText = node.angle < 90 || node.angle > 270 ? 'start' : 'end';\n\n  }\n\n  return nodes;\n}\n\nexport function calculateEmployee() {\n  const circle = {\n    radius: '28',\n    fill: '#98abc5',\n    x: '0',\n    y: '0'\n  };\n\n  return { circle };\n}\n\nexport function getInitials(name) {\n  const splitted = name.split(' ');\n  return `${splitted[0].charAt(0)}.${splitted[splitted.length - 1].charAt(0)}`;\n}\n\nexport default {\n  calculatePieClient,\n  createLinks,\n  calculateEmployee,\n  getInitials\n};\n","import React from 'react';\nimport { calculatePieClient } from './actions';\n\nconst vizHeight = 0.67;\nconst imageSize = 40;\n\nclass VizClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clientSlice: [], //array of svg path commands, repepresenting each client\n      projectSlice: [], //array of svg path commands, representing projects,\n      currentShowingProject: null,\n    };\n  }\n\n  componentDidMount() {\n    const height = this.props.size[1];\n    const radius = height - height * vizHeight;\n    const { clientSlice, projectSlice } = calculatePieClient(this.props, radius);\n    this.setState({ clientSlice, projectSlice, radius });\n  }\n\n  componentWillReceiveProps(props) {\n    const { clientSlice, projectSlice } = calculatePieClient(props, this.state.radius);\n    this.setState({ clientSlice, projectSlice });\n  }\n\n  showProject({ data }) {\n    const {\n      currentShowingProject\n    } = this.state;\n    const {\n      mouseOnProject,\n      mouseOutProject,\n    } = this.props;\n\n    if (currentShowingProject !== data.id) {\n      mouseOutProject();\n      mouseOnProject(data.id);\n      this.setState({ currentShowingProject: data.id });\n    } else {\n      mouseOutProject();\n      this.setState({ currentShowingProject: null });\n    }\n  }\n\n  render() {\n    const width = this.props.size[0];\n    const height = this.props.size[1];\n    const clients = <g transform={`translate(${width / 2}, ${height / 2})`}>\n      {this.state.clientSlice.map((d, i) => (\n        <g key={i} opacity={d.highlight ? '1' : '0.2'}>\n          <path\n            d={d.path}\n            stroke='#dc3545'\n            fillOpacity='0'\n            strokeWidth=\"6\"\n            opacity={d.data.hours > 0 ? d.data.selected ? 1 : 0 : 0}\n          />\n          {d.data.type === 'category' ?\n          <path\n            d={d.path}\n            fill={d.fill}\n            onMouseOver={() => { this.props.mouseOnClient(d.id); }}\n            onMouseOut={() => this.props.mouseOutClient()}\n            onClick={() => this.props.clientClick(d.data)}\n          /> :   <path\n            d={d.path}\n            fill={d.fill}\n            onClick={() => this.props.clientClick(d.data)}\n          /> }\n\n        </g>\n      ))}\n    </g>;\n    const projects = <g transform={`translate(${width / 2}, ${height / 2})`}>\n      {this.state.projectSlice.map((d, i) => (\n        <g key={i} opacity={d.data.highlight ? '1' : '0.2'}>\n          <path\n            d={d.path}\n            stroke='#dc3545'\n            fillOpacity='0'\n            strokeWidth=\"6\"\n            opacity={d.data.selected ? 1 : 0}\n          />\n          <path\n            d={d.path}\n            fill='#FFFFFF'\n            // onMouseOver={() => this.props.mouseOnProject(d.data.id)} //TO DO:organize DATA array \n            // onMouseOut={() => this.props.mouseOutProject()}\n            onClick={() => this.showProject(d)}\n          />\n        </g>\n      ))}\n    </g>;\n    const clientLogos = <g transform={`translate(${width / 2}, ${height / 2})`}>\n      {this.state.clientSlice.map((d, i) => {\n        const text = d.data.type === 'category' || d.data.type === 'more' ? <text\n          x={d.textPos[0]}\n          y={d.textPos[1]}\n          opacity={d.data.textHighlight ? '1' : '0'}\n          textAnchor={d.textAnchor}\n          fill={d.fill}\n          // onMouseOver={() => { this.props.mouseOnClient(d.id); }}\n          // onMouseOut={() => this.props.mouseOutClient()}\n          onClick={() => this.props.clientClick(d.data)}\n          className='label'\n        >\n          {d.data.name}\n        </text> : <g></g>;\n        return d.data.hours > 0 ? <g key={i}>\n          < image\n            key={i}\n            width={imageSize}\n            height={imageSize}\n            x={d.logo.centroid[0]}\n            y={d.logo.centroid[1]}\n            xlinkHref={d.img}\n            opacity={d.highlight ? '1' : '0.2'}\n            // onMouseOver={() => { this.props.mouseOnClient(d.id); }}\n            // onMouseOut={() => this.props.mouseOutClient()}\n            onClick={() => this.props.clientClick(d.data)}\n          />\n          {text}\n        </g> : '';\n      })}\n    </g>;\n    return (\n      <React.Fragment>\n        {clients}\n        {clientLogos}\n        {projects}\n      </React.Fragment>\n    );\n  }\n}\nexport default VizClient;\n","import React from 'react';\nimport { calculateEmployee, getInitials } from './actions';\n\nclass Employee extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.setState({ circle: calculateEmployee() });\n  }\n\n  render() {\n    const circle = this.state.circle ? this.state.circle : null;\n    //create a unique id for each image mask\n    const maskName = 'mask' + this.props.id;\n    const fillMask = 'url(#mask' + this.props.id + ')';\n    const image = !this.props.img ?\n      <text\n        textAnchor='middle'\n        x={this.props.pX}\n        y={this.props.pY + 1}\n        dominantBaseline='middle'\n        fontSize={this.props.radius}\n        className='initials'\n      > \n        {getInitials(this.props.name)}\n      </text> :\n      <circle\n        r={this.props.radius}\n        cy={this.props.pY}\n        cx={this.props.pX}\n        fill={fillMask}\n      />;\n    const selected = this.props.selected ? <circle\n      cx={this.props.pX}\n      cy={this.props.pY}\n      r={this.props.radius}\n      stroke='#dc3545'\n      fillOpacity='0'\n      strokeWidth=\"3\"\n    /> : '';\n    return (\n      < g >\n        {\n          circle ? (\n            <g\n              onClick={() => this.props.mouseOnEmployee(this.props.id)}\n              //onMouseOver={() => this.props.mouseOnEmployee(this.props.id)}\n              //onMouseOut={() => this.props.mouseOutEmployee()}\n              opacity={this.props.opacity}\n            >\n\n              <circle\n                cx={this.props.pX}\n                cy={this.props.pY}\n                r={this.props.radius}\n                fill={circle.circle.fill}\n              />\n\n              <g>\n                <defs id='imgdefs'>\n                  <pattern id={maskName} height='1' width='1' x='0' y='0'>\n                    <image\n                      height={this.props.radius * 2}\n                      width={this.props.radius * 2}\n                      href={this.props.img}\n                    />\n                  </pattern>\n                </defs>\n                {image}\n                {selected}\n              </g>\n            </g>\n\n          ) : (\n            <h4>No image</h4>\n          )}\n      </g >\n    );\n  }\n}\n\nexport default Employee;\n","import React from 'react';\nimport Employee from './Employee';\nimport * as d3 from 'd3';\n\nconst vizHeight = 0.58;\n\nclass VizEmployees extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentShowingEmployee: null\n    };\n  }\n\n  componentDidMount({ employees } = this.props) {\n    this.setLayout(employees);\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log(this.props.employees.filter(e => e.brushedDisplay))\n    if (!this.sameEmployees(prevProps.employees, this.props.employees)) {\n      this.setLayout(this.props.employees);\n    }\n  }\n\n  showEmployee({ data }){\n    const { currentShowingEmployee } = this.state;\n    const { mouseOnEmployee, mouseOutEmployee, toggleDialogue } = this.props;\n\n  \n    if(currentShowingEmployee !== data.id){\n      mouseOutEmployee();\n      mouseOnEmployee(data.id);\n      this.setState({ currentShowingEmployee: data.id})\n    } else { \n      mouseOutEmployee();\n      toggleDialogue(false)\n      this.setState({ currentShowingEmployee: null });\n    }\n    \n  }\n\n  sameEmployees(prevEmpl, nextEmpl) {\n\n    if (prevEmpl.length !== nextEmpl.length) return false;\n    let pIds = prevEmpl.map(e => e.id);\n    let nIds = prevEmpl.map(e => e.id);\n    return pIds.filter(id => !nIds.includes(id)).length === 0;\n  }\n\n  //Set a hierarchy to the data\n  //creates a PACK Layout, calculates and sets all the attributes for the layout\n  //Set the layout in the state\n  setLayout(employees) {\n    const root = d3.hierarchy({\n      name: 'employees',\n      children: employees\n    });\n\n    const height = this.props.size[1];\n    const width = height - height * vizHeight;\n    const packLayout = d3.pack();\n    packLayout.size([width, width]);\n    packLayout.padding(10);\n    root.sum(_ => 50);\n    const flayout = packLayout(root);\n    this.setState({ layout: flayout });\n  }\n\n  handleMouseOn = (d) => {\n    if (d.data.brushedDisplay) {\n      this.props.mouseOnEmployee(d.data.id);\n    }\n  }\n  render() {\n    //Get the size and diameter of the viz\n    const width = this.props.size[0];\n    const height = this.props.size[1];\n    const diameter = height - height * vizHeight;\n\n    //Create the Employee object with the photo\n    const employeeLayout =\n      this.state.layout !== undefined ? (\n        this.state.layout.children.map((d, i) => {\n          return (\n            <Employee\n              key={i}\n              name={d.data.name}\n              img={d.data.img}\n              radius={d.r}\n              selected={d.data.selected}\n              pX={d.x}\n              pY={d.y}\n              id={d.data.id}\n              mouseOnEmployee={() => this.showEmployee(d)} \n              //mouseOnEmployee={() => this.handleMouseOn(d)}\n              //mouseOutEmployee={this.props.mouseOutEmployee}\n              opacity={d.data.highlight ? d.data.brushedDisplay ? '1' : '0.1' : '0.1'}\n            />\n          );\n        })\n      ) : '';\n\n    //return all the things to render\n    return (\n      // MOVE the GRAPHIC OBJECT TO THE CENTER\n      <g\n        ref=\"employees\"\n        transform={`translate(${width / 2 - diameter / 2}, ${height / 2 -\n          diameter / 2})`}\n      >\n        {/* BACKGROUND CIRCLE */}\n        < g ref='graph' >\n          {employeeLayout}\n        </g >\n      </g >\n    );\n  }\n}\n\nexport default VizEmployees;\n","import React from 'react';\nimport VizClient from './VizClient';\nimport VizEmployees from './VizEmployees';\nimport Skills from './Skills';\n\n//VizCircle is in charge of taking all the raw data and\n//calculate with D3 how to draw the visualization in SVG\n//renders the SVG visaulization\nclass VizCircle extends React.Component {\n  render() {\n    const vizClients = <VizClient\n      annularSectors={this.props.annularSectors}\n      clients={this.props.clients}\n      projects={this.props.projects}\n      size={this.props.size}\n      mouseOnProject={this.props.mouseOnProject}\n      mouseOutProject={this.props.unHighlightElements}\n      mouseOnClient={this.props.mouseOnClient}\n      mouseOutClient={this.props.unHighlightElements}\n      clientClick={this.props.clientClick}\n    />;\n    const employees = this.props.employees.length > 0 ? < VizEmployees\n      employees={this.props.employees}\n      size={this.props.size}\n      mouseOnEmployee={this.props.mouseOnEmployee}\n      mouseOutEmployee={this.props.unHighlightElements}\n      toggleDialogue={this.props.toggleDialogue}\n    /> : '';\n    const content =\n      <svg className='circle-visualization' width={this.props.size[0]} height={this.props.size[1]}>\n        {vizClients}\n        {employees}\n        {/* <Skills\n          skills={this.props.skills}\n          size={this.props.size}\n        /> */}\n      </svg>;\n\n    return content;\n  }\n}\n\n\nexport default VizCircle;\n","import React from 'react';\nimport { createLinks } from './actions';\n\nconst distance = 0.15;\n\nclass Skills extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nodes: {}\n    };\n  }\n\n  componentDidMount() {\n    const nodes = createLinks(this.props.skills);\n    this.setState({\n      nodes\n    });\n  }\n  \n  componentWillReceiveProps(props) {\n    const nodes = createLinks(props.skills);\n    this.setState({\n      nodes\n    });\n  }\n\n  render() {\n    const width = this.props.size[0];\n    const height = this.props.size[1];\n    const radius = (height - height * distance) / 2;\n   \n    return (\n      <g transform={`translate(${width / 2}, ${height / 2})`}>\n        {this.state.nodes.children !== undefined ? (\n          this.state.nodes.children.map((d, i) => {\n            return (\n              <g\n                className='skills'\n                key={i}\n                transform={`rotate(${d.angle}) translate(${radius})`}\n              >\n                <text\n                  className={d.data.selected ? 'text-selected' : ''}\n                  key={i}\n                  cx={d.txtPosX}\n                  dy=\".31em\"\n                  transform={`rotate(${d.textRotation}) `}\n                  textAnchor={d.anchorText}\n                >\n                  {d.data.name}\n                </text>\n              </g>\n            );\n          })\n        ) : (\n          <g />\n        )}\n      </g>\n    );\n  }\n}\n\nexport default Skills;\n","import React from 'react';\n\nclass LegendItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: 0,\n      text: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      type: this.props.type,\n      text: this.setText(this.props.data, this.props.label)\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) \n      this.setState({\n        text: this.setText(this.props.data, this.props.label)\n      });\n  }\n\n  setText(data, label) {\n    let text = `${data} ${label}`;\n    if (data !== 1) \n      if (label.charAt(label.length - 1) === 's') text += '\\'';\n      else text += 's'; \n    return text;\n  } \n\n\n  render() {\n    return (\n      <li className='legend-item'>\n        <div\n          role=\"menuitem\"\n          className={'thing'}\n          onMouseEnter={() => this.props.overEvent(this.props.type)}\n          onMouseLeave={() => this.props.outEvent()}\n        >\n          <i className={this.props.icon}/>\n          {this.state.text}\n        </div>\n      </li>\n    );\n  }\n}\n\nexport default LegendItem;","export function getObjects(ids, list) {\n  return ids.map(id => list[id]);\n}\n\n/*\n* Merge two primitive arrays.\n* Resulting array consists of unique elements from input arrays. \n*/\nexport function union(a, b) {\n  a.push(...b.filter(e => !a.includes(e)));\n}\n\nexport default {\n  getObjects,\n  union\n};","import React from 'react';\nimport LegendItem from './LegendItem';\nimport { union } from 'components/main/general';\n\nclass Legend extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      totalClients: 0,\n      totalProjects: 0,\n      totalEmployees: 0,\n      totalSkills: 0,\n      refresh: false\n    };\n  }\n\n  componentDidMount() {\n    this.resetLegends(this.props);\n    this.setState({totalProjects: this.props.projectsCount})\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.refreshLegends !== this.props.refreshLegends) this.resetLegends(this.props);\n    if (!this.equal(prevProps.client, this.props.client) ||\n      !this.equal(prevProps.project, this.props.project) ||\n      !this.equal(prevProps.employee, this.props.employee)\n      ) {\n      if (this.props.client || this.props.project || this.props.employee)\n        this.calculateData(this.props);\n      else\n        this.resetLegends(this.props);\n    }\n  }\n\n  calculateData(props) {\n    let { client, project, employee } = props;\n    if (client) this.calculateClient(props);\n    if (project) this.calculateProject(props);\n    if (employee) this.calculateEmployee(props);\n  }\n\n  calculateClient({ client, projects }) {\n    const brushedProjects = projects.filter(p => p.brushedDisplay);\n    const totalProjects = brushedProjects.filter(p => client.projects.includes(p.id));\n    const totalEmployees = [];\n    const totalSkills = [];\n    totalProjects.forEach(p => {\n      union(totalEmployees, p.employees);\n      union(totalSkills, p.skills);\n    });\n\n    this.setState({\n      totalClients: 1,\n      totalProjects: totalProjects.length,\n      totalEmployees: totalEmployees.length,\n      totalSkills: totalSkills.length\n    });\n  }\n\n  calculateEmployee({ employee, clients, projects }) {\n    const brushedProjects = projects.filter(project => \n      project.employees.includes(employee.id) && project.brushedDisplay);\n    const brushedClientIds = brushedProjects.map(p => p.clientId);\n    const totalClients = clients.filter(client => \n      client.employees.includes(employee.id) && brushedClientIds.includes(client.id)).length;\n    const totalSkills = employee.skills.length;\n    this.setState({\n      totalClients, \n      totalProjects: brushedProjects.length,\n      totalEmployees: 1,\n      totalSkills\n    });\n  }\n\n  calculateProject({ project }) {\n    this.setState({\n      totalClients: 1,\n      totalProjects: 1,\n      totalEmployees: project.employees.length,\n      totalSkills: project.skills.length,\n    });\n  }\n\n  resetLegends({ clients, projects, employees }) {\n    const brushedProjects = projects.filter(p => p.brushedDisplay);\n    const totalEmployees = employees.filter(e => e.brushedDisplay);\n    const clientIds = brushedProjects.map(p => p.clientId);\n    const totalClients = clients.filter(c => clientIds.includes(c.id)).length;\n    const totalSkills = [];\n    brushedProjects.forEach(p => union(totalSkills, p.skills));\n    employees.forEach(e => union(totalSkills, e.skills));\n    this.setState({\n      totalClients,\n      totalProjects: brushedProjects.length,\n      totalEmployees: totalEmployees.length,\n      totalSkills: totalSkills.length\n    });\n  }\n\n  equal(prev, current) {\n    if (prev !== current) return false;\n    if (prev === current) return true;\n    if (prev.id !== current.id && prev.type !== current.type) return false;\n    return true;\n  }\n\n  render() {\n    let {\n      totalEmployees,\n      totalClients,\n      totalProjects,\n      totalSkills,\n    } = this.state;\n\n    return (\n      <div className='legend'>\n        <ul>\n          <LegendItem\n            data={totalClients}\n            type='CLIENTS'\n            label='client'\n            overEvent={this.props.overEvent}\n            outEvent={this.props.outEvent}\n            icon='fas fa-building'\n          />\n          <LegendItem\n            data={totalProjects}\n            type='PROJECTS'\n            label='project'\n            overEvent={this.props.overEvent}\n            outEvent={this.props.outEvent}\n            icon='fas fa-square'\n          />\n          <LegendItem\n            data={totalEmployees}\n            type='EMPLOYEES'\n            label='employee'\n            overEvent={this.props.overEvent}\n            outEvent={this.props.outEvent}\n            icon='fas fa-user'\n          />\n          <LegendItem\n            data={totalSkills}\n            type='SKILLS'\n            label='skill'\n            overEvent={this.props.overEvent}\n            outEvent={this.props.outEvent}\n            icon='fas fa-wrench'\n          />\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Legend;\n","import React from 'react';\nimport moment from 'moment';\nimport { Button } from \"react-bootstrap\";\nimport { Link } from 'react-router-dom';\n\nconst format = 'YYYY-MM-DD';\nconst placeholder = `${process.env.PUBLIC_URL}/img/employees/employee_placeholder.jpg`;\n\nclass Dialogue extends React.Component {\n\n  setText(data, type) {\n    switch (type) {\n      case 'CLIENT':\n        return (\n          <div>\n            <p><span className='bold'>Location: </span><br></br>{data.location}</p>\n            <p>{data.description}</p>\n          </div>\n        );\n      case 'EMPLOYEE':\n        return (\n          <div>\n            <p><span className='bold'>Start date: </span><br></br>{data.dateInit}</p>\n            <p><span className='bold'>End date: </span><br></br>{data.dateEnd}</p>\n            <p><span className='bold'>Location: </span><br></br>{data.location}</p>\n            <p><span className='bold'>Birthyear: </span><br></br>{data.birthYear}</p>\n            <Link to={`/employeeview/${data.id}`}><Button>READ MORE</Button></Link>\n\n          </div>\n        );\n      case 'PROJECT':\n        return ( \n          <div>\n            <p><span className='bold'>Client: </span><br></br>{data.clientName}</p>\n            <p><span className='bold'>Start date: </span><br></br>{moment(data.dateInit).format(format)}</p>\n            <p><span className='bold'>End date: </span><br></br>{moment(data.dateEnd).format(format)}</p>\n            <p>{data.description}</p>\n          </div>\n        );\n      default:  \n        return <div/>;\n    }\n  }\n\n  setName(data, type) {\n    switch (type) {\n      case 'CLIENT':\n        return data.name;\n      case 'EMPLOYEE':\n      case 'PROJECT':\n        return data.name;\n      default:\n        return '';\n    }\n  }\n\n  setCategory(data, type) {\n    switch (type) {\n      case 'CLIENT':\n        return data.category;\n      case 'EMPLOYEE':\n        return data.roll;\n      case 'PROJECT':\n        return data.type;\n      default:\n        return '';\n    }\n  }\n\n  setImage(data, type) {\n    switch (type) {\n      case 'CLIENT':\n      case 'PROJECT':\n        return <img src={data.logo} alt={data.name} />;\n      case 'EMPLOYEE':\n        return <img src={data.img ? data.img : placeholder} alt={data.name} />;\n      default:\n        return <i className=\"fas fa-laptop-code\"></i>;\n    }\n  }\n\n  render() {\n    const { dialogueIsShown, dialogueInfo } = this.props;\n    const { data, type } = dialogueInfo;\n    const imageDisplay = data ? this.setImage(data, type) : <i className=\"fas fa-laptop-code\"></i> ;\n    const text = data ? this.setText(data, type) : <div />;\n    const category = data ? this.setCategory(data, type) : '';\n    const name = data ? this.setName(data, type) : '';\n    return (\n      <div>\n        <div className={dialogueIsShown ? 'dialogue' : 'dialogue hidden'}>\n          <div className='identification'>\n            {imageDisplay}\n            <div className=\"spacing x-small\"></div>\n            <h2>{name}</h2>\n            <p>{category}</p>\n          </div>\n          <div className='information'>\n            {text}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dialogue;\n","import React, { Component } from 'react';\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\n\n\nclass Filter extends Component {\n\n  getFormatedDate = (month) => {\n    return this.props.formatDate(month);\n  }\n  render() {\n    const pos0 = this.props.filterPosition[0];\n    const pos1 = this.props.filterPosition[1];\n    return (\n      <div className=\"filter\">\n        <Range\n          min={this.props.minFilterValue}\n          max={this.props.maxFilterValue}\n          defaultValue={[this.props.defaultValueMin, this.props.defaultValueMax]}\n          value={[pos0, pos1]}\n          steps={1}\n          onChange={(value) => this.props.afterChangeFunction(value[0], value[1])}\n          tipFormatter={(value) => this.getFormatedDate(value)}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Filter;","import React, { Component } from 'react';\nimport Filter from './Filter';\nimport * as d3 from 'd3';\n\nconst margin = { top: 20, right: 50, bottom: 30, left: 50 };\nconst height = 100;\nconst heightProject = 10;\n\n\nclass VizTimeline extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n\n  xAxis = d3.axisBottom();\n  monthAxis = d3.axisTop();\n  yearAxis = d3.axisTop();\n\n  componentDidMount() {\n    this.setState({\n    });\n  }\n\n  //create all the data necessary for the timeline visualization and set it up in the state\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let { annularSectors, projects, size, range } = nextProps;\n    if (!projects) return {};\n\n    const extent = range;\n    const xScale = d3\n      .scaleTime()\n      .domain(extent)\n      .range([0, size[0] - margin.right - margin.left]);\n\n\n    //calculate all the bars \n    const moreProjects = annularSectors.find(client => client.type === 'more');\n    if (moreProjects)\n      projects = projects.filter(project => !moreProjects.projects.includes(project.id));\n    const bars = projects.map(d => {\n      return {\n        x: margin.left + xScale(new Date(d.dateInit)),\n        y: height - margin.bottom,\n        width: (xScale(d.dateEnd) - xScale(d.dateInit)),\n        height: heightProject,\n        fill: !d.highlight ? '#333333' : d.color,\n        level: 0,\n        id: d.id,\n        opacity: d.highlight ? '1' : '0.2',\n        selected: d.selected,\n        brushedDisplay: d.brushedDisplay\n      };\n    });\n    let numLevels = 0;\n    // organize the projects so they do not overlap\n    for (let i = 0; i < bars.length; i++) {\n      const element = bars[i];\n      let level = element.level;\n      for (let j = i - 1; j >= 0; j--) {\n        const subElement = bars[j];\n        if (element.x <= subElement.width + subElement.x) {\n          //check if the elements overlaps with the subelement \n          //and push it a level up\n          if (level === subElement.level) {\n            level += 1;\n          } else if (subElement.level > level) {\n            level = subElement.level + 1;\n          }\n          element.level = level;\n          numLevels = Math.max(level, numLevels);\n        }\n      }\n    }\n\n    return { bars, xScale, numLevels };\n\n  }\n  //add the axis of the visualization directly with d3\n  componentDidUpdate() {\n\n    this.xAxis.ticks(d3.timeYear.every(1));\n    this.xAxis.scale(this.state.xScale);\n    this.xAxis.tickPadding(10);\n    this.xAxis.tickSize(0);\n\n    const monthHeight = this.props.projects.length > 0 ? height - margin.bottom : 0;\n    this.monthAxis.tickFormat('');\n    this.monthAxis.tickSize(monthHeight);\n    this.monthAxis.ticks(d3.timeMonth.every(1));\n    this.monthAxis.scale(this.state.xScale);\n\n    this.yearAxis.tickFormat('');\n    this.yearAxis.tickSize(monthHeight);\n    this.yearAxis.ticks(d3.timeYear.every(1));\n    this.yearAxis.scale(this.state.xScale);\n\n    d3.select(this.refs.xAxis).call(this.xAxis);\n    d3.select(this.refs.monthAxis).call(this.monthAxis);\n    d3.select(this.refs.yearAxis).call(this.yearAxis);\n\n  }\n\n  render() {\n    const barHeight = this.state.numLevels === 0 ? (height / 4) : (height - margin.bottom) / (this.state.numLevels + 1);\n    const projects = this.state.bars.map((d) => (\n      <g key={d.id}\n        opacity={d.brushedDisplay ? d.opacity : 0.2}\n        onMouseOver={() => {\n          if (!d.brushedDisplay) {\n            return;\n          } else {\n            this.props.selectProject(d.id);\n          }\n        }}\n        onMouseOut={() => this.props.mouseOutProject()}>\n        {/* SELECTED STROKE */}\n        <rect\n          x={d.x}\n          y={d.y - barHeight - (barHeight * d.level)}\n          rx=\"5\"\n          ry=\"5\"\n          width={d.width}\n          height={barHeight}\n          fill={d.fill}\n        />\n        {/*PROJECT RECT  */}\n        <rect\n          x={d.x + 1}\n          y={d.y - barHeight - (barHeight * d.level) + 1}\n          rx=\"5\"\n          ry=\"5\"\n          width={d.width - 1}\n          height={barHeight - 1}\n          stroke='#dc3545'\n          fillOpacity='0'\n          strokeWidth=\"3\"\n          opacity={d.selected ? 1 : 0}\n        />\n      </g>\n    ));\n\n    const filter = <Filter\n      beforeVal=\"\"\n      afterVal=\"\"\n      filterName=\"Time\"\n      filterLeftValue=\"\"\n      filterRightValue=\"\"\n      minFilterValue={0}\n      maxFilterValue={this.props.totalProjectsMonths}\n      defaultValueMin={0}\n      defaultValueMax={this.props.totalProjectsMonths}\n      step={1}\n      afterChangeFunction={this.props.modifyRange}\n      filterPosition={this.props.filterPosition}\n      formatDate={this.props.formatDate}\n    />;\n    const axisMonths = <g className='axisMonths' ref=\"monthAxis\" transform={`translate(${margin.left}, ${height - margin.bottom})`} />;\n    const yearAxis = <g className='yearAxis' ref=\"yearAxis\" transform={`translate(${margin.left}, ${height - margin.bottom})`} />;\n    const xAxis = <g ref=\"xAxis\" transform={`translate(${margin.left}, ${height - margin.bottom})`} />;\n    return (\n      <React.Fragment>\n        < div className={this.props.displayTimeline ? 'timeLine' : 'timeLine hidden'} >\n          <svg width={this.props.size[0]} height={height} >\n            {axisMonths}\n            {xAxis}\n            {yearAxis}\n            {projects}\n          </svg>\n          {filter}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default VizTimeline;","import React from 'react';\n/**\n * \n * @param {string} word value to search in employees, clients, projects and skills  \n * @param {props} props contains all the state employees, projects, skills and clients to search \n */\nexport function search(word, props) {\n  const { projects, employees, skills, clients, selectedObjects } = props;\n  const srchWord = word.toLowerCase();\n\n  if (srchWord.length > 0 && srchWord !== '' && srchWord !== ' ') {\n\n    //search in projects\n    const projectResults = projects.filter(p => {\n      const name = p.name.toLowerCase();\n      p.searchType = 'PROJECT';\n      return name.includes(srchWord) && !existsInArray(p, selectedObjects); //check if it exists in tag list. send obj\n    });\n    //search in results\n    const employeesResults = employees.filter(e => {\n      const name = e.name.toLowerCase();\n      e.searchType = 'EMPLOYEE';\n      return name.includes(srchWord) && !existsInArray(e, selectedObjects);\n    });\n    //search in skills\n    const skillsResults = skills.filter(s => {\n      const name = s.name.toLowerCase();\n      s.searchType = 'SKILL';\n      return name.includes(srchWord) && !existsInArray(s, selectedObjects);\n    });\n    //search in clients\n    const clientsResults = clients.filter(c => {\n      const name = c.name.toLowerCase();\n      c.searchType = 'CLIENT';\n      return name.includes(srchWord) && !existsInArray(c, selectedObjects);\n    });\n    return [...projectResults, ...employeesResults, ...skillsResults, ...clientsResults];\n  } else {\n    return [];\n  }\n}\n\nfunction existsInArray(obj, arr) {\n  return arr.find(e => e.id === obj.id && e.searchType === obj.searchType);\n}\n\nexport function removeItem(item, IArray) {\n  return IArray.filter(o => o.id !== item.id && o.searchType !== item.searchType);\n}\n\nexport function getIcon(item) {\n  switch (item.searchType) {\n    case 'EMPLOYEE':\n      return <i className=\"fas fa-user\"></i>;\n    case 'CLIENT':\n      return <i className=\"fas fa-building\"></i>;\n    case 'PROJECT':\n      return <i className=\"fas fa-square\"></i>;\n    case 'SKILL':\n      return <i className=\"fas fa-wrench\"></i>;\n    default:\n      return <i className=\"fas fa-question-circle\"></i>;\n  }\n}\n\nexport default { search, removeItem, getIcon };","import React from 'react';\nimport { getIcon } from './actions';\nclass Result extends React.Component {\n\n  state = {}\n\n  mouseOverHandler = (item) => {\n    if (item.searchType === 'SKILL') {\n      this.props.toggleDialogue(false);\n    } else if (item.searchType === 'PROJECT') {\n      const logo = this.props.getProjectLogo(item.id);\n      this.props.toggleDialogue();\n      this.props.showObjectInformation({ ...item, clientName: item.name, logo: logo }, 'PROJECT');\n    } else {\n      this.props.toggleDialogue();\n      this.props.showObjectInformation(item, item.searchType);\n    }\n  }\n\n  removeObject = () => {\n    this.props.removeSelectedObject(this.props.item);\n  }\n\n  clickHandler = (item) => {\n    this.props.clickHandler(this.props.item);\n    this.props.clearSearch();\n  }\n\n\n\n  render() {\n\n    const icon = getIcon(this.props.item);\n    return (\n      <li\n        className='result'\n        key={this.props.item.name + '_' + this.props.item.id}\n        onMouseOver={() => this.mouseOverHandler(this.props.item)}\n        onMouseOut={() => this.props.toggleDialogue(false)}\n        onMouseDown={() => this.clickHandler(this.props.item)}\n      >\n        <i>{icon}</i>\n        {this.props.item.name}\n\n      </li>\n    );\n  }\n}\n\nexport default Result;","import React from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport { search, removeItem } from './actions';\nimport Result from 'components/main/search/Result';\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      searchWord: '',\n      focus: false\n    };\n  }\n\n  handleChange = (e) => {\n    console.log(this.props)\n    const results = search(e.target.value, this.props);\n    this.setState({\n      list: results,\n      searchWord: e.target.value\n    });\n  }\n\n  clearSearch = () => {\n    this.setState({\n      searchWord: '',\n      list: []\n    });\n    this.setState({ focus: false });\n    this.props.toggleDialogue(false);\n  }\n\n  removeFromResults = (item) => {\n    const results = removeItem(item, this.state.list);\n    this.setState({ list: results });\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClick, false);\n  }\n\n  handleClick = (e) => {\n    if (!this.node.contains(e.target)) {\n      this.handleClickOutside();\n    }\n  }\n\n  handleClickOutside = () => {\n    this.clearSearch();\n    document.removeEventListener('mousedown', this.handleClick, false);\n    document.removeEventListener('keydown', this.handleEsc, false);\n\n\n  }\n\n  handleEsc = (e) => {\n    if (e.key === 'Escape') {\n      this.clearSearch();\n      document.removeEventListener('keydown', this.handleEsc, false);\n      this.node.blur();\n    }\n  }\n\n  focusElement = (e) => {\n    document.addEventListener('mousedown', this.handleClick, false);\n    document.addEventListener('keydown', this.handleEsc, false);\n    this.setState({ focus: true });\n  }\n\n\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"search-input\">\n          <FormControl\n            ref={node => this.node = node}\n            value={this.state.searchWord}\n            type=\"text\"\n            placeholder=\"Search\"\n            className=\"search-bar\"\n            onChange={this.handleChange}\n            onMouseDown={this.focusElement}\n          />\n          {this.state.focus &&\n            <i className=\"fas fa-times-circle\" onMouseDown={() => this.clearSearch()}></i>\n          }\n        </div>\n        <div className=\"results\">\n          <ul>\n            {this.state.list.map((item, index) =>\n              <Result\n                key={index}\n                item={item}\n                showObjectInformation={this.props.showObjectInformation}\n                toggleDialogue={this.props.toggleDialogue}\n                clickHandler={this.props.addSelectedObject}\n                removeSelectedObject={this.props.removeSelectedObject}\n                clearSearch={this.clearSearch}\n                getProjectLogo={this.props.getProjectLogo}\n              />)}\n          </ul>\n        </div>\n      </React.Fragment >\n    );\n  }\n}\n\nexport default Search;","import React from 'react';\n\nclass Breadcrumb extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      crumbs: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ crumbs: [this.props.clickedClient] });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.clickedClient.length === 0) return;\n    if (!this.isEqual(prevProps.clickedClient, this.props.clickedClient)) {\n      const crumbs = [...prevState.crumbs, this.props.clickedClient];\n      this.setState({ crumbs });\n    }\n  }\n\n  handleClick(index) {\n    if (index + 1 === this.state.crumbs.length) return;\n    const client = this.state.crumbs[index];\n    this.props.breadcrumbClick(client, true);\n    const crumbs = this.state.crumbs.slice(0, index + 1);\n    this.setState({ crumbs });\n  }\n\n  isEqual(a, b) {\n    if (b.id === '' && b.name === '' && b.type === '') return true;\n    if (a.id === b.id && a.type === b.type && a.name === b.name) {\n      if (a.type === 'category' || a.type === 'more') {\n        if (a.list.length !== b.list.length) return false;\n        for (let index in a.list) \n          if (!this.isEqual(a.list[index], b.list[index])) return false;\n      } \n      return true;\n    } \n    return false;\n  }\n\n  render() {\n    const crumbs = this.state.crumbs.map((_, i) => (\n      <span className='crumb' onClick={this.handleClick.bind(this, i)} key={i} />\n    ));\n    return (\n      <div className='breadcrumbs'>\n        {crumbs}\n      </div>\n    );\n  }\n}\n\nexport default Breadcrumb;","import React, { Component } from 'react';\n\nclass Tag extends Component {\n  state = {\n  }\n\n  removeObject = () => {\n    this.props.removeSelectedObject(this.props.object);\n  }\n\n  render() {\n    return (\n      <li className=\"tag\">\n        <span>{this.props.name}</span>\n        <i className=\"fas fa-times-circle\" onMouseDown={() => this.removeObject()}></i>\n      </li>\n    );\n  }\n}\n\nexport default Tag;","import React, { Component } from 'react';\nimport Tag from './tag';\n\nclass tagList extends Component {\n  state = {}\n  render() {\n    const tagList = this.props.selectedObjects.map((o, i) => {\n      return <Tag\n        key={i}\n        name={o.name}\n        removeSelectedObject={this.props.removeSelectedObject}\n        object={o}\n      />;\n    });\n\n    return (\n      <ul className='tag-list'>\n        {tagList}\n      </ul>\n    );\n  }\n}\n\nexport default tagList;","import React, { Component } from 'react';\nimport { Navbar, Form, Button } from 'react-bootstrap';\nimport Search from 'components/main/search/Search';\nimport Breadcrumb from 'components/main/breadcrumb/Breadcrumb';\nimport TagList from 'components/main/tagList/tagList';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Navbar className='header' variant='header' expand='lg'>\n        <div className='h-row'>\n          <div>\n            <img src='img/logos/FindOut.png' alt='FindOut' className='brandLogo'/>\n            \n            <Form inline className='searchForm' onSubmit={e => e.preventDefault()}>\n              <Search\n                clients={this.props.clients}\n                projects={this.props.projects}\n                employees={this.props.employees}\n                skills={this.props.skills}\n                showObjectInformation={this.props.showObjectInformation}\n                toggleDialogue={this.props.toggleDialogue}\n                addSelectedObject={this.props.addSelectedObject}\n                removeSelectedObject={this.props.removeSelectedObject}\n                selectedObjects={this.props.selectedObjects}\n                getProjectLogo={this.props.getProjectLogo}\n              />\n            </Form>\n\n            <TagList\n              selectedObjects={this.props.selectedObjects}\n              removeSelectedObject={this.props.removeSelectedObject}\n            />\n          </div>\n          <div className='right'>\n            <Button className='ml-auto p-2' variant='light'>\n              <i className='far fa-question-circle'></i>\n            </Button>\n          </div>\n        </div>\n        <div className='h-row'>\n          <Breadcrumb\n            clickedClient={this.props.clickedClient}\n            breadcrumbClick={this.props.breadcrumbClick}\n          />\n        </div>\n\n      </Navbar>\n    );\n  }\n}\n\nexport default Header;","import React from 'react';\n\nclass Loader extends React.Component {\n  render() {\n    return ( \n      <div className='loader'>\n        <p className='spinner'></p>\n      </div>\n    );\n  }\n}\n\nexport default Loader;","import React from 'react';\n\nclass Title extends React.Component {\n  render() {\n    return (\n      <div className={`title ${this.props.isHighlighted ? 'hide' : ''}`}>\n        {this.props.title}\n      </div>);\n  }\n}\n\nexport default Title;","import axios from 'axios';\n\nconst apiRoute = '';\nexport async function fetchEmployee() {\n\n  const requestURL = `${apiRoute}employee/all/zero`;\n  const options = {\n    url: requestURL,\n    responseType: \"json\",\n    method: 'GET',\n  };\n\n  let response;\n  try {\n    response = await axios(options);\n  } catch (error) {\n    return {};\n  }\n\n  if (response.status === 200) {\n    const employees = response.data;\n    return { employees };\n  }\n}\nexport async function fetchCustomer() {\n\n  const requestURL =`${apiRoute}customer/all/zero`;\n  const options = {\n    url: requestURL,\n    responseType: \"json\",\n    method: 'GET',\n  };\n\n  let response;\n  try {\n    response = await axios(options);\n\n  } catch (error) {\n    return {};\n  }\n\n  if (response.status === 200) {\n    const clients = response.data;\n    return { clients};\n  }\n}\n\nexport async function fetchProject() {\n\n  const requestURL =`${apiRoute}project/all/zero`;\n  const options = {\n    url: requestURL,\n    responseType: \"json\",\n    method: 'GET',\n  };\n\n  let response;\n  try {\n    response = await axios(options);\n  } catch (error) {\n    return {};\n  }\n\n  if (response.status === 200) {\n    const projects = response.data;\n    return { projects};\n  }\n}\n\nexport async function fetchProjectCount() {\n\n  const requestURL =`${apiRoute}project/total`;\n  const options = {\n    url: requestURL,\n    responseType: \"json\",\n    method: 'GET',\n  };\n\n  let response;\n  try {\n    response = await axios(options);\n  } catch (error) {\n    return {};\n  }\n\n  if (response.status === 200) {\n    const projectsCount = response.data;\n    return { projectsCount};\n  }\n}\n","import ColorThief from 'color-thief';\nimport { union } from 'components/main/general';\n\n\n/* Get colors */\nvar colorThief = new ColorThief();\n\nexport function getColor(src) {\n  return new Promise((resolve, reject) => {\n    let img = new Image();\n    img.onload = () => {\n      let dominantColor = colorThief.getColor(img);\n      dominantColor = dominantColor.map(x => {\n        x = parseInt(x).toString(16);\n        return (x.length === 1) ? '0' + x : x;\n      });\n      resolve(`#${dominantColor.join('')}`);\n    };\n    img.onerror = () => reject('');\n    img.src = `${process.env.PUBLIC_URL}${src}`;\n  });\n}\n\n/* Check if imgage exists */\nexport function imageExists(src) {\n    return new Promise((resolve, reject) => {\n      let img = new Image();\n      img.onload = () => resolve();\n      img.onerror = () => reject();\n      img.src = `${process.env.PUBLIC_URL}${src}`;\n    });\n  }\n\n/* Get group categories */\nlet maxAnnularSectors; \nexport async function groupCategories(clients) {\n    const grouped = {};\n    for (let client of clients) {\n      if (!(client.category in grouped)) grouped[client.category] = [client];\n      else grouped[client.category].push(client);\n    }\n    console.log(grouped)\n  \n    const sorted = [];\n    let counter = clients.length;\n    for (let category in grouped) {\n      let imageSrc = `/img/categories/${category.trim().replace(/\\s/g, '_')}.png`;\n      try {\n        var color = await getColor(imageSrc);\n      } catch (error) {\n        color = '';\n        imageSrc = '/img/logos/company_placeholder.png';\n      }\n  \n      let employees = [];\n      let projects = [];\n      let skills = [];\n      let clients = [];\n      for (let client of grouped[category]) {\n        union(employees, client.employees);\n        union(projects, client.projects);\n        union(skills, client.skills);\n        clients.push(client.id);\n      }\n  \n      sorted.push({\n        id: counter++,\n        name: category,\n        category: 'Categories',\n        type: 'category',\n        list: grouped[category],\n        hours: grouped[category].length,\n        selected: false,\n        color,\n        highlight: true,\n        textHighlight: false,\n        logo: imageSrc,\n        projects,\n        employees,\n        skills,\n        clients\n      });\n    }\n  \n    sorted.sort((a, b) => b.list.length - a.list.length);\n    console.log(sorted)\n    const categories = getLargestClients(sorted);\n    maxAnnularSectors = sorted.length;\n    console.log(categories)\n    console.log(categories[maxAnnularSectors].list)\n    categories[maxAnnularSectors].hours = categories[maxAnnularSectors].list.length;\n    categories[maxAnnularSectors].list.sort((a, b) => b.hours - a.hours);\n  \n    return {\n      id: counter++,\n      name: 'Categories',\n      category: 'Categories',\n      type: 'root',\n      list: categories,\n      hours: 0,\n      color: '#000',\n      selected: false,\n      highlight: true,\n      textHighlight: false,\n      projects: [],\n      employees: [],\n      clients: [],\n      skills: [],\n      logo: ''\n    };\n  }\n\n  export function getLargestClients(clients) {\n    let imageSrc = '/img/categories/more.png';\n    if (!clients) return clients;\n    const clientList = clients.slice(0, maxAnnularSectors);\n    const other = {\n      id: -1,\n      name: 'More',\n      category: clients[0].category,\n      type: 'more',\n      highlight: true,\n      color: '#2D2A32',\n      hours: 0,\n      selected: false,\n      list: [],\n      projects: [],\n      employees: [],\n      clients: [],\n      skills: [],\n      logo: imageSrc\n    };\n  \n    for (let i = maxAnnularSectors; i < clients.length; i++) {\n      other.hours += clients[i].hours;\n      other.list.push(clients[i]);\n      union(other.employees, clients[i].employees);\n      other.projects.push(...clients[i].projects);\n      if (clients[i].type === 'category')\n        other.clients.push(...getClients(clients[i].list));\n      else\n        other.clients.push(clients[i].id);\n      union(other.skills, clients[i].skills);\n    }\n    clientList.push(other);\n  \n    return clientList;\n  }\n  \n  function getClients(clients) {\n    const list = [];\n    for (let client of clients) {\n      if (client.type === 'category') list.push(...getClients(clients));\n      else list.push(client.id);\n    }\n    return list;\n  }\n","import moment from 'moment';\nimport { union } from 'components/main/general';\nimport {\n   fetchEmployee,\n   fetchProject,\n   fetchCustomer,\n   fetchProjectCount\n  } from './api';\nimport {getColor, imageExists, groupCategories} from './utilities/index';\n\nconst dateFormat = 'YYYY-MM-DD';\n\nexport async function load() {\n  const { projectList, employeeList, technologyList, clientList, unsortedClients, projectsCount } = await getData();\n  const categories = await groupCategories(clientList);\n  categories.clients = clientList.map((_, i) => i);\n  categories.projects = projectList.map((_, i) => i);\n  categories.employees = employeeList.map((_, i) => i);\n  categories.skills = technologyList.map((_, i) => i);\n  return {\n    categories,\n    projectList,\n    employeeList,\n    technologyList,\n    clientList,\n    unsortedClients,\n    projectsCount\n  };\n}\n\nasync function getData() {\n   function getTechList(technologies, clientId, projectId, employeeId) {   \n    if (technologies.length === 0) return [];\n    return technologies.map(technology => {\n      let techObj = technologyList.find(t => t.name.toLowerCase() === technology.toLowerCase()); \n      if (techObj) {\n        if (clientId && !techObj.clients.includes(clientId))\n          techObj.clients.push(clientId);\n        if (projectId && !techObj.projects.includes(projectId))\n          techObj.projects.push(projectId);\n        if (employeeId && !techObj.employees.includes(employeeId))\n          techObj.employees.push(employeeId);\n      } else {\n        techObj = {\n          id: technologyIdCounter++,\n          name: technology,\n          highlight: false,\n          clients: clientId ? [clientId] : [],\n          projects: projectId ? [projectId] : [],\n          employees: employeeId ? [employeeId] : []\n        };\n        technologyList.push(techObj);\n      }\n      return techObj.id;\n    });\n  }\n\n  function getClientId(client) {\n    if (client.length === 0) return -1;\n    return client.map(client => {\n      let clientObj = clientList.find(t => t.name.toLowerCase() === client.toLowerCase());  \n      return clientObj.id;\n    })\n  }\n\n  function getClientColor(client) {\n    if (client.length === 0) return -1;\n    return client.map(client => {\n      let clientObj = clientList.find(t => t.name.toLowerCase() === client.toLowerCase());  \n    return clientObj.color;\n    });\n  }\n\n  function updateClient(clientId, projectId, duration, employees, skills) {\n   if(!clientList[clientId].projects.includes(projectId)) clientList[clientId].projects.push(projectId);\n    clientList[clientId].hours += duration;\n    union(clientList[clientId].employees, employees);\n    union(clientList[clientId].skills, skills);\n  }\n\n  function updateEmployee(clientId, projectId, employees) {\n  \n    Object.keys(employees).forEach(function(key){\n\n       let employeeId = employees[key];\n       if(employeeList[employeeId] !== undefined){\n        employeeList[employeeId].projects.push(projectId);\n        if (!employeeList[employeeId].clients.includes(clientId))\n          employeeList[employeeId].clients.push(clientId);\n       }\n    })\n    }\n\n  function getEmployeeList(employees) {\n    return employees.map(employee => employeeList.find(e => e.name.toLowerCase() === employee.toLowerCase()).id);\n  }\n\n  function getDates(startDates, endDates) {\n    const startDateList = startDates.split(',').map(date => date.trim());\n    const endDateList = endDates ? endDates.split(',').map(date => date.trim()) : [];\n    const startDate = startDateList[0];\n    let endDate;\n    if (startDateList.length === endDateList.length) {\n      // Number of days doesn't always correspond to the month\n      const endDateSplitted = endDateList[endDateList.length - 1].split('-');\n      const year = endDateSplitted[0];\n      const month = endDateSplitted[1];\n      endDate = moment(`${year}-${month}`).endOf('month').format(dateFormat);\n    } else  // Ongoing project\n      endDate = moment().format(dateFormat);\n    return { startDate, endDate };\n  }\n\n\n  const {employees } = await fetchEmployee();\n  if (!employees) return Error;\n\n  const {clients} = await fetchCustomer();\n  if (!clients) return Error;\n  \n  const {projects} = await fetchProject();\n  if (!projects) return Error;\n  \n  const {projectsCount} = await fetchProjectCount();\n  if (!projectsCount) return Error;\n\n\n  let clientList = [];\n  let technologyList = [];\n  let projectList = [];\n  let employeeList = [];\n  let technologyIdCounter = 0;\n  for (let employee of employees) {\n    let img;\n    try {\n      img = `img/employees/${[employee.firstName, employee.lastName].join('_').replace(/\\s/g, '_')}.jpg`;\n      await imageExists(img);\n    } catch {\n      img = null;\n    }\n    \n    employeeList.push({\n      id: employee.id,\n      name: `${employee.firstName} ${employee.lastName}`,\n      highlight: true,\n      brushedDisplay: true,\n      roll: `${employee.role ? employee.role : ''}`,\n      img,\n      dateInit: moment(`${employee.startYear}-01-01`).format(dateFormat),\n      dateEnd: `${employee.endYear ? moment(employee.endYear + '-01-01').format(dateFormat) : moment().format(dateFormat)}`,\n      location:employee.location,\n      birthYear: employee.birthYear,\n      skills: getTechList(employee.technologies, undefined, undefined, employee.id),\n      projects: [],\n      clients: []\n    });\n  }\n\n  for (const client of clients) {\n    let imageSrc = `/img/logos/${client.name.trim().replace(/\\s/g, '_')}.png`;\n    try {\n      var color = await getColor(imageSrc);\n    } catch (error) {\n      color = '';\n      imageSrc = '/img/logos/company_placeholder.png';\n    }\n    clientList.push({\n      id: client.id,\n      name: client.name,\n      hours: 0,\n      color: color,\n      logo: imageSrc,\n      highlight: true,\n      projects: [],\n      category: client.category,\n      description: client.description ? client.description : '',\n      location: client.location,\n      type: 'client',\n      employees: [],\n      skills: [],\n      list: []\n    });\n    \n  }\n\n  clientList.push({\n    id: clientList.length ,\n    name: 'Other',\n    hours: 0,\n    color: '#3E5641',\n    logo: '/img/logos/company_placeholder.png',\n    highlight: true,\n    projects: [],\n    category: 'Other',\n    description: 'Projects without client.',\n    location: '',\n    type: 'client',\n    employees: [],\n    skills: [],\n    list: []\n  });\n\n Object.keys(projects).forEach(function(key) {\n  let project = projects[key];\n     const { startDate, endDate } = getDates(project.startDates, project.endDates);\n     const duration = Math.floor(moment.duration(moment(endDate).diff(moment(startDate))).asHours());\n     let clientId = getClientId(project.client);\n     const color = getClientColor(project.client);\n     clientId = clientId === -1 ? clients.length : clientId[0];\n     const employees = getEmployeeList(project.employees);\n    const skills = getTechList(project.technologies, clientId, project.id);\n    updateClient(clientId, project.id, duration, employees, skills);\n    updateEmployee(clientId, project.id, employees);\n    projectList.push({\n      id: project.id,\n      name: project.name,\n      highlight: true,\n      brushedDisplay: true,\n      type: project.type ? project.type : 'Normal',\n      description: project.description,\n      clientId,\n      employees,\n      dateInit: new Date(startDate),\n      dateEnd: new Date(endDate),\n      skills,\n      color,\n      hours: duration\n    });\n\n});\n  \n  \n\n  const unsortedClients = [...clientList];\n  clientList.sort((a, b) => b.hours - a.hours);\n  return { projectList, employeeList, technologyList, clientList, unsortedClients, projectsCount };\n}\n\n\nexport default {\n  load\n};\n","import moment from 'moment';\nimport * as d3 from 'd3';\n\n/**\n   * Set the Highlight state either to true or false\n   * returns an array with the modified items\n   *\n   * @param highlight Boolean to set the state\n   * @param modArray Array to modify\n   */\nexport function setHighlight(highlight, modArray) {\n  return modArray.map(d => {\n    d.highlight = highlight;\n    return d;\n  });\n}\n\n/**\n   * Modify the hightlight atribute of an object if it\n   * matches the id\n   *\n   * @param highLight Boolean to set the state\n   * @param modArray Array to modify\n   * @param idArray array with number IDs to modify\n   * @pram ifIncludes Boolean check if it includes or it does not\n   */\nexport function setHighlightElement(highlight, idArray, modArray, ifIncludes) {\n  return modArray.map(d => {\n    if (idArray.includes(d.id) === ifIncludes) {\n      d.highlight = highlight;\n    }\n    return d;\n  });\n}\n\n/**\n   * Modify the hightlight atribute of an object if it\n   * matches the id\n   *\n   * @param highhighlightElementLight Boolean to set the state\n   * @param highlightText boolean for the text\n   * @param modArray Array to modify\n   * @param idArray array with number IDs to modify\n   * @pram ifIncludes Boolean check if it includes or it does not\n   */\nexport function setHighlightText(highlightText, idArray, modArray, ifIncludes) {\n  return modArray.map(d => {\n    if (idArray.includes(d.id) === ifIncludes) {\n      d.textHighlight = highlightText;\n    }\n    return d;\n  });\n}\n\nexport function unHighlightText(modArray) {\n  return modArray.map(d => {\n    d.textHighlight = false;\n    return d;\n  });\n}\n/**\n * Checks if the element skills match the id and modifies the highlight state to true\n * checks if clients from the element do not match \n * \n * @param id Number of skill \n * @param modArray array to modify\n */\nexport function highlightElementWithSkill(id, modArray) {\n  let clients = [];\n  const projectsHighLight = modArray.map(d => {\n    if (d.skills.includes(id)) {\n      d.highlight = true;\n      if (!clients.includes(d.clientId)) clients.push(d.clientId);\n    } else {\n      d.highlight = false;\n    }\n    return d;\n  });\n  return [clients, projectsHighLight];\n}\n\n/**\n * searches for skills in element, if it has it turns it's highlight state to true\n * @param {number} id of skill to search in element\n * @param {array} mdArray array to modify\n */\nexport function elementWithSkill(id, mdArray) {\n  return mdArray.map(d => {\n    d.highLight = d.skills.includes(id);\n    return d;\n  });\n}\n\n/**\n * search for an element with the id and return it\n * @param {number} id of the element to find\n * @param {array} array array to search\n */\nexport function getElementById(id, array) {\n  return array.find(d => d.id === id);\n}\n\n/**\n * \n * @param {*} objArr \n * @param {*} initDate \n * @param {*} InBruMonth \n * @param {*} OutBruMonth \n */\nexport function brushObjectByDate(objArr, initDate, InBruMonth, OutBruMonth) {\n  return objArr.map(o => {\n    const pInit = getMonthsDifference(initDate, o.dateInit);\n    const pEnd = getMonthsDifference(initDate, o.dateEnd);\n    o.brushedDisplay = OutBruMonth - pInit >= 0 && pEnd - InBruMonth >= 0 ? true : false;\n    return o;\n  });\n}\n\nexport function reCalculateClientHours(clients, projects) {\n  return clients.map(c => {\n    let hours = 0;\n    const projectsFiltered = projects.filter(p => p.clientId === c.id);\n    projectsFiltered.forEach(p => {\n      hours += p.brushedDisplay ? p.hours : 0;\n    });\n    c.hours = hours;\n    return c;\n  });\n}\n\n\n/**\n * returns the differente between two dates in months\n * @param {date} IDate initial date \n * @param {date} ODate ending date\n */\nexport function getMonthsDifference(IDate, ODate) {\n  return d3.timeMonth.count(IDate, ODate);\n}\n\n/**\n * returns adds the number of months to inital date and returns the date \n * @param {*} month \n * @param {*} initDate \n */\nexport function getDateFromStep(month, initDate) {\n  return moment(initDate).add(month, 'M').format('MMM YYYY');\n}\n\nexport function resetBrushedDisplay(ModArray) {\n  return ModArray.map(p => p.brushedDisplay = true);\n}\n\nexport function setSelectedState(refArray, modArray) {\n  const clients = modArray.clients.map(c => {\n    c.selected = refArray.clients.includes(c.id);\n    return c;\n  });\n\n  const employees = modArray.employees.map(e => {\n    e.selected = refArray.employees.includes(e.id);\n    return e;\n  });\n  const skills = modArray.skills.map(s => {\n    s.selected = refArray.skills.includes(s.id);\n    return s;\n  });\n  const projects = modArray.projects.map(p => {\n    p.selected = refArray.projects.includes(p.id);\n    return p;\n  });\n\n  return {\n    employees: employees,\n    clients: clients,\n    projects: projects,\n    skills: skills\n  };\n}\n\n\nfunction removeNonRepeatedObj(outArray, objects, inArray) {\n  return inArray.filter(id => {\n    return outArray.includes(id) && !objects.includes(id) ? false : true;\n  });\n}\n\nfunction mergeRepeated(inArr) {\n  return Array.from(new Set(inArr));\n}\n\n\n/**\n * \n * @param {dic} selectedData the current selected objects \n * @param {ob} object the object you want to add\n * @param {dic} objectsDic array containing the current clients, employees, skills, and projects \n */\nexport function addSelected(selectedData, object) {\n  let clients = [...selectedData.clients],\n    employees = [...selectedData.employees],\n    skills = [...selectedData.skills],\n    projects = [...selectedData.projects];\n  switch (object.searchType) {\n    case 'EMPLOYEE':\n      employees = mergeRepeated([...employees, object.id]);\n      skills = mergeRepeated([...skills, ...object.skills]);\n      projects = mergeRepeated([...projects, ...object.projects]);\n      clients = mergeRepeated([...clients, ...object.clients]);\n      break;\n    case 'CLIENT':\n      clients = mergeRepeated([...clients, object.id]);\n      projects = mergeRepeated([...projects, ...object.projects]);\n      employees = mergeRepeated([...employees, ...object.employees]);\n      skills = mergeRepeated([...skills, ...object.skills]);\n      break;\n    case 'PROJECT':\n      projects = mergeRepeated([...projects, object.id]);\n      employees = mergeRepeated([...employees, ...object.employees]);\n      skills = mergeRepeated([...skills, ...object.skills]);\n      clients = mergeRepeated([...clients, object.clientId]);\n      break;\n    case 'SKILL':\n      skills = mergeRepeated([...skills, object.id]);\n      projects = mergeRepeated([...projects, ...object.projects]);\n      employees = mergeRepeated([...employees, ...object.employees]);\n      clients = mergeRepeated([...clients, ...object.clients]);\n\n      break;\n    default:\n      return selectedData;\n  }\n  return {\n    employees: Array.from(new Set(employees)),\n    clients: Array.from(new Set(clients)),\n    projects: Array.from(new Set(projects)),\n    skills: Array.from(new Set(skills))\n  };\n\n}\n\n\nfunction getDataFromSelectedObjects(objs, stateData) {\n  let clients = [];\n  let employees = [];\n  let skills = [];\n  let projects = [];\n  let locations = [];\n  objs.forEach(o => {\n    switch (o.searchType) {\n      case 'EMPLOYEE':\n        employees = [...employees, o.id];\n        skills = [...skills, ...o.skills];\n        projects = [...projects, ...o.projects];\n        clients = [...clients, ...o.clients];\n        locations = [...locations, ...o.locations];\n        break;\n      case 'CLIENT':\n        clients = [...clients, o.id];\n        projects = [...projects, ...o.projects];\n        employees = [...employees, ...o.employees];\n        skills = [...skills, ...o.skills];\n        break;\n      case 'PROJECT':\n        projects = [...projects, o.id];\n        employees = [...employees, ...o.employees];\n        skills = [...skills, ...o.skills];\n        clients = [...clients, o.clientId];\n        break;\n      case 'SKILL':\n        skills = [...skills, o.id];\n        projects = [...projects, ...o.projects];\n        employees = [...employees, ...o.employees];\n        clients = [...clients, ...o.clients];\n\n        break;\n      default:\n        break;\n    }\n  });\n  return {\n    clients: mergeRepeated(clients),\n    employees: mergeRepeated(employees),\n    skills: mergeRepeated(skills),\n    projects: mergeRepeated(projects)\n  };\n}\n\nfunction getObjectsFromState(objs, stateData) {\n  return objs.map(object => {\n    switch (object.searchType) {\n      case 'EMPLOYEE':\n        return object = stateData.employees.find(o => o.id === object.id);\n      case 'CLIENT':\n        return object = stateData.clients.find(o => o.id === object.id);\n      case 'PROJECT':\n        return object = stateData.projects.find(p => p.id === object.id);\n      case 'SKILL':\n        return object = stateData.skills.find(s => s.id === object.id);\n      default:\n        return object;\n    }\n  });\n}\n\nexport function removeSelected(selectedData, object, stateData, selectedTagList) {\n  let selectedClients = selectedData.clients,\n    selectedEmployees = selectedData.employees,\n    selectedSkills = selectedData.skills,\n    selectedProjects = selectedData.projects;\n  let delObj = null;\n  const tagListObjects = getObjectsFromState(selectedTagList, stateData);\n  const dataFromSelectedObjects = getDataFromSelectedObjects(tagListObjects, stateData);\n\n  switch (object.searchType) {\n    case 'EMPLOYEE':\n      delObj = stateData.employees.find(o => object.id === o.id);\n      selectedEmployees = removeNonRepeatedObj([delObj.id], dataFromSelectedObjects.employees, selectedEmployees);\n      selectedSkills = removeNonRepeatedObj(delObj.skills, dataFromSelectedObjects.skills, selectedSkills);\n      selectedProjects = removeNonRepeatedObj(delObj.projects, dataFromSelectedObjects.projects, selectedProjects);\n      selectedClients = removeNonRepeatedObj(delObj.clients, dataFromSelectedObjects.clients, selectedClients);\n      break;\n    case 'CLIENT':\n      delObj = stateData.clients.find(o => o.id === object.id);\n      selectedClients = removeNonRepeatedObj([delObj.id], dataFromSelectedObjects.clients, selectedClients);\n      selectedEmployees = removeNonRepeatedObj(delObj.employees, dataFromSelectedObjects.employees, selectedEmployees);\n      selectedSkills = removeNonRepeatedObj(delObj.skills, dataFromSelectedObjects.skills, selectedSkills);\n      selectedProjects = removeNonRepeatedObj(delObj.projects, dataFromSelectedObjects.projects, selectedProjects);\n      break;\n    case 'PROJECT':\n      delObj = stateData.projects.find(p => p.id === object.id);\n      selectedProjects = removeNonRepeatedObj([delObj.id], dataFromSelectedObjects.projects, selectedProjects);\n      selectedEmployees = removeNonRepeatedObj(delObj.employees, dataFromSelectedObjects.employees, selectedEmployees);\n      selectedSkills = removeNonRepeatedObj(delObj.skills, dataFromSelectedObjects.skills, selectedSkills);\n      selectedClients = removeNonRepeatedObj([delObj.clientId], dataFromSelectedObjects.clients, selectedClients);\n      break;\n    case 'SKILL':\n      delObj = stateData.skills.find(s => s.id === object.id);\n      selectedSkills = removeNonRepeatedObj([delObj.id], dataFromSelectedObjects.skills, selectedSkills);\n      selectedEmployees = removeNonRepeatedObj(delObj.employees, dataFromSelectedObjects.employees, selectedEmployees);\n      selectedProjects = removeNonRepeatedObj(delObj.projects, dataFromSelectedObjects.projects, selectedProjects);\n      selectedClients = removeNonRepeatedObj(delObj.clients, dataFromSelectedObjects.clients, selectedClients);\n      break;\n    default:\n      return selectedData;\n  }\n\n  return {\n    employees: selectedEmployees,\n    clients: selectedClients,\n    projects: selectedProjects,\n    skills: selectedSkills\n  };\n}\n\n/**\n * checks all the projects and sets the inital and ending date\n * @param {array} projects array with all the projects\n */\nexport function getDateRange(projects) {\n  const initDates = projects.map(p => moment(p.dateInit));\n  const endDates = projects.map(p => moment(p.dateEnd));\n  const min = moment.min(initDates).toDate();\n  const max = moment.max(endDates).toDate();\n  return [min, max];\n}\n\nexport function getBrushedProjectsEmployees(projects, employees) {\n  let employeesId = [];\n  projects.forEach(p => {\n    employeesId = p.brushedDisplay ? [...employeesId, ...p.employees] : employeesId;\n  });\n  return employees.map(e => {\n    e.brushedDisplay = employeesId.includes(e.id) ? true : false;\n    return e;\n  });\n}\n\nexport default {\n  setHighlight,\n  setHighlightElement,\n  highlightElementWithSkill,\n  getElementById,\n  elementWithSkill,\n  getDateRange,\n  setHighlightText,\n  unHighlightText,\n  getDateFromStep,\n  getMonthsDifference,\n  resetBrushedDisplay,\n  addSelected,\n  setSelectedState,\n  removeSelected,\n  brushObjectByDate,\n  reCalculateClientHours,\n  getBrushedProjectsEmployees\n};\n\n","import React from 'react';\nimport \"../styles/main.scss\"\nimport VizCircle from '../components/main/vizCircle/VizCircle';\nimport Legend from '../components/main/legend/Legend';\nimport Dialogue from '../components/main/dialogue/Dialogue';\nimport VizTimeline from '../components/main/vizTimeline/VizTimeline';\nimport Header from '../components/main/header/Header';\nimport Loader from '../components/main/loader/Loader';\nimport Title from '../components/main/title/Title';\nimport { load } from '../server/main/index';\nimport { getLargestClients } from '../server/main/utilities/index';\nimport { getObjects, union } from '../components/main/general';\nimport {\n  setHighlight,\n  setHighlightElement,\n  highlightElementWithSkill,\n  getElementById,\n  getDateRange,\n  setHighlightText,\n  unHighlightText,\n  getDateFromStep,\n  getMonthsDifference,\n  addSelected,\n  setSelectedState,\n  removeSelected,\n  brushObjectByDate,\n  reCalculateClientHours,\n  getBrushedProjectsEmployees,\n  resetBrushedDisplay\n} from '../components/main/interactions';\n//width and height of the SVG visualization\nconst width = window.innerWidth;\nconst height = window.innerHeight;\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this._isMounted = false;\n    this.state = {\n      clients: [],\n      unsortedClients: [],\n      clickedClient: [],\n      projects: [],\n      employees: [],\n      skills: [],\n      filteredClients: [],\n      filteredProjects: [],\n      filteredEmployees: [],\n      filteredSkills: [],\n      projectsCount: [],\n      size: [width, height],\n      isLoading: true,\n      isMobileView: false,\n      dialogueIsShown: false,\n      initialDates: [],\n      datesBrushed: [],\n      totalProjectsMonths: 0,\n      elementOver: {\n        type: 'none',\n        info: null\n      },\n      dialogueInfo: {},\n      displayTimeline: false,\n      filterPosition: [],\n      selectedObjects: [],\n      selected: {\n        employees: [],\n        clients:[],\n        category: [],\n        projects: [],\n        skills: [],\n        annularSector: []\n      },\n      highlightedClient: null,\n      highlightedProject: null,\n      highlightedEmployee: null,\n      refreshLegends: false,\n      employeeClicked: false\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    window.addEventListener('resize', this.resize.bind(this));\n    this.resize();\n    this.setState({ isLoading: true });\n    const {\n      categories,\n      projectList,\n      employeeList,\n      technologyList,\n      clientList,\n      unsortedClients,\n      projectsCount\n    } = await load();\n    const selectedRange = getDateRange(projectList);\n    let totalMonths = getMonthsDifference(selectedRange[0], selectedRange[1]);\n    this.setState({\n      initialDates: selectedRange,\n      datesBrushed: selectedRange,\n      totalProjectsMonths: totalMonths,\n      isLoading: false,\n      clients: clientList,\n      unsortedClients,\n      projects: projectList,\n      projectsCount: projectsCount,\n      employees: employeeList,\n      skills: technologyList,\n      filteredClients: clientList,\n      filteredProjects: projectList,\n      filteredEmployees: employeeList,\n      filteredSkills: technologyList,\n      range: selectedRange,\n      clickedClient: categories,\n      filterPosition: [0, totalMonths],\n      annularSectors: categories.list,\n      currentView: categories.name\n    });\n  }\n\n  componentWillUnmount(){\n    this._isMounted = false;\n  }\n\n\n  showSkill = id => {\n    const ans = highlightElementWithSkill(id, this.state.projects);\n    const highlightedSectors = setHighlightElement(false, ans[0], this.state.annularSectors, false);\n    const highlightedEmployees = highlightElementWithSkill(id, this.state.filteredEmployees);\n    const highlightedSkills = setHighlightElement(true, [id], this.state.skills, true);\n\n    this.setState({\n      skills: highlightedSkills,\n      projects: ans[1],\n      annularSectors: highlightedSectors,\n      filteredEmployees: highlightedEmployees\n    });\n  };\n\n  showProject = id => {\n    const project = getElementById(id, this.state.projects);\n    const highlightedEmployees = setHighlightElement(false, project.employees, this.state.filteredEmployees, false);\n    const highlightedProjects = setHighlightElement(false, [id], this.state.filteredProjects, false);\n    const highligtedSectors = setHighlightElement(false, [project.clientId], this.state.annularSectors, false);\n    const highlightedSkills = setHighlightElement(true, project.skills, this.state.filteredSkills, true);\n\n    this.setState({\n      annularSectors: highligtedSectors,\n      filteredSkills: highlightedSkills,\n      filteredProjects: highlightedProjects,\n      filteredEmployees: highlightedEmployees,\n      highlightedProject: project\n    });\n\n    const client = getElementById(project.clientId, this.state.annularSectors);\n    this.toggleDialogue();\n    this.modifyDialogueInfo({ ...project, clientName: client.name, logo: client.logo }, 'PROJECT');\n  };\n\n  showEmployee = id => {\n\n    const employee = getElementById(id, this.state.filteredEmployees);\n    const brushedProjectIds = this.state.filteredProjects\n    .filter(p => p.brushedDisplay && p.employees.includes(id))\n    .map(p => p.id);\n    const clientIds = this.state.annularSectors\n      .filter(s => s.projects.filter(p => brushedProjectIds.includes(p)).length !== 0)\n      .map(s => s.id);\n    const highlightedEmployees = setHighlightElement(false, [id], this.state.filteredEmployees, false);\n    const highlightedSectors = setHighlightElement(false, clientIds, this.state.annularSectors, false);\n    const highlightedProjects = setHighlightElement(false, brushedProjectIds, this.state.filteredProjects, false);\n    const highlightedSkills = setHighlightElement(true, employee.skills, this.state.filteredSkills, true);\n\n\n    this.setState({\n      annularSectors: highlightedSectors,\n      filteredProjects: highlightedProjects,\n      filteredEmployees: highlightedEmployees,\n      filteredSkills: highlightedSkills,\n      highlightedEmployee: employee\n    });\n    this.toggleDialogue();\n    this.modifyDialogueInfo(employee, 'EMPLOYEE');\n  };\n\n  showClient = (id) => {\n    const client = getElementById(id, this.state.annularSectors);\n    let highlightedSectors = setHighlightElement(false, [id], this.state.annularSectors, false);\n    highlightedSectors = client.type !== 'client' ?\n      setHighlightText(true, [id], highlightedSectors, true) : highlightedSectors;\n    let brushedProjects = [];\n    if (client.type === 'category') {\n      brushedProjects = getObjects(client.projects, this.state.projects)\n    }\n    else if (client.type === 'more') \n      brushedProjects = getObjects(client.projects, this.state.projects).filter(p => p.brushedDisplay);\n    else  brushedProjects = this.state.filteredProjects.filter(p => p.brushedDisplay && p.clientId === id);\n    const employeeIds = client.employees.filter(eId => brushedProjects.filter(p => p.employees.includes(eId)).length !== 0); \n    const highlightedEmployees = setHighlightElement(false, employeeIds, this.state.filteredEmployees, false);\n    const highlightedProjects = setHighlightElement(false, client.projects, this.state.filteredProjects, false);\n    const skills = [];\n    brushedProjects.forEach(p => union(skills, p.skills));\n    let highlightedSkills = client.type === 'client' ?\n      setHighlightElement(true, skills, this.state.filteredSkills, true) :\n      this.state.filteredSkills;\n      // const selected = addSelected(this.state.selected, object, allObjects);\n    this.setState({\n      annularSectors: highlightedSectors,\n      filteredSkills: highlightedSkills,\n      filteredEmployees: highlightedEmployees,\n      filteredProjects: highlightedProjects,\n      highlightedClient: client\n    });\n\n    if (client.type === 'client') {\n      this.toggleDialogue();\n      this.modifyDialogueInfo(client, 'CLIENT');\n    }\n  };\n\n  unHighlightElements = (annularSectors, projects, employees, skills) => {\n    annularSectors = annularSectors || this.state.annularSectors;\n    projects = projects || this.state.filteredProjects;\n    employees = employees || this.state.filteredEmployees;\n    skills = skills || this.state.filteredSkills;\n    if (annularSectors.length === 17 && this.state.dialogueIsShown) this.toggleDialogue();\n    else this.toggleDialogue(false);\n    let unhighligtedSectors = setHighlight(true, annularSectors);\n    unhighligtedSectors = unHighlightText(unhighligtedSectors);\n    const unhighlightedProjects = setHighlight(true, projects);\n    const unhighlightedEmployees = setHighlight(true, employees);\n    const unhighlightedSkills = setHighlight(false, skills);\n\n    this.setState({\n      annularSectors: unhighligtedSectors,\n      filteredSkills: unhighlightedSkills,\n      filteredProjects: unhighlightedProjects,\n      filteredEmployees: unhighlightedEmployees,\n      highlightedClient: null,\n      highlightedProject: null,\n      highlightedEmployee: null\n    });\n  };\n\n  toggleDialogue = (toggle = true) => {\n    this.setState({ dialogueIsShown: toggle });\n  };\n\n  getProjectLogo = (id) => {\n    return this.state.clients.find(p => p.projects.includes(id)).logo;\n  }\n\n  addSelectedObject = (object) => {\n    const allObjects = {\n      clients: this.state.clients,\n      projects: this.state.projects,\n      employees: this.state.employees,\n      skills: this.state.skills,\n    };\n    const filteredObjects = {\n      clients: this.state.filteredClients,\n      projects: this.state.filteredProjects,\n      employees: this.state.filteredEmployees,\n      skills: this.state.filteredSkills,\n    };\n    const selected = addSelected(this.state.selected, object, allObjects);\n    const selectedState = setSelectedState(selected, allObjects);\n    const filteredSelectedObjects = setSelectedState(selected, filteredObjects);\n    const newSelectedObject = {\n      id: object.id,\n      name: object.name,\n      searchType: object.searchType\n    };\n    //add object to selectedList\n    this.setState({\n      selected: selected,\n      selectedObjects: [...this.state.selectedObjects, newSelectedObject],\n      clients: selectedState.clients,\n      employees: selectedState.employees,\n      projects: selectedState.projects,\n      skills: selectedState.skills,\n      filteredClients: filteredSelectedObjects.clients,\n      filteredEmployees: filteredSelectedObjects.employees,\n      filteredProjects: filteredSelectedObjects.projects,\n      filteredSkills: filteredSelectedObjects.skills,\n    });\n  }\n\n  removeSelectedObject = (object) => {\n    const allObjects = {\n      clients: this.state.clients,\n      projects: this.state.projects,\n      employees: this.state.employees,\n      skills: this.state.skills,\n    };\n    const selectedObjects = this.state.selectedObjects.filter(o => o.id === object.id && o.type === object.type ? false : true);\n    const selected = removeSelected(this.state.selected, object, allObjects, selectedObjects);\n    const selectedState = setSelectedState(selected, allObjects);\n\n    this.setState({\n      selectedObjects: selectedObjects,\n      selected: selected,\n      clients: selectedState.clients,\n      employees: selectedState.employees,\n      projects: selectedState.projects,\n      skills: selectedState.skills\n    });\n  }\n\n  /**\n  * Recieves an initial and ending date in number of months.  \n  * Returns the range in full date object\n  *\n  * @param initMonth the initial number of the month in the initial full date\n  * @param enMonth the ending number of the month in the end full date \n  */\n  brushDates = (initMonth, enMonth) => {\n    const filteredProjects = brushObjectByDate(this.state.filteredProjects, this.state.datesBrushed[0], initMonth, enMonth);\n    const filteredClients = this.state.filteredClients === null ? null : reCalculateClientHours(this.state.filteredClients, filteredProjects);\n    const filteredEmployees = getBrushedProjectsEmployees(filteredProjects, this.state.filteredEmployees);\n    this.setState({\n      refreshLegends: !this.state.refreshLegends,\n      filteredProjects,\n      filteredClients,\n      filteredEmployees,\n      filterPosition: [initMonth, enMonth]\n    });\n  };\n\n  getDateFormated = (month) => {\n    return getDateFromStep(month, this.state.datesBrushed[0]);\n  }\n\n  highlightElements = name => {\n    let clients = this.state.filteredClients;\n    let filteredEmployees = this.state.filteredEmployees;\n    let filteredProjects = this.state.filteredProjects;\n    let filteredSkills = this.state.filteredSkills;\n    switch (name) {\n      case 'EMPLOYEES':\n        clients = setHighlight(false, clients);\n        filteredProjects = setHighlight(false, filteredProjects);\n        break;\n      case 'CLIENTS':\n        filteredEmployees = setHighlight(false, filteredEmployees);\n        filteredProjects = setHighlight(false, filteredProjects);\n        break;\n      case 'PROJECTS':\n        clients = setHighlight(true, clients);\n        filteredEmployees = setHighlight(false, filteredEmployees);\n        filteredProjects = setHighlight(true, filteredProjects);\n        break;\n        case 'SKILLS':\n          clients = setHighlight(false, clients);\n          filteredProjects = setHighlight(false, filteredProjects);\n          filteredEmployees = setHighlight(false, filteredEmployees);\n          filteredSkills = setHighlight(true, filteredSkills);\n        break;\n      default:\n    }\n\n    this.setState({\n      clients,\n      filteredProjects,\n      filteredEmployees,\n      filteredSkills\n    });\n  };\n\n\n  modifyDialogueInfo = (data, type) => {\n    this.setState({ dialogueInfo: { data, type } });\n  }\n\n  resize() {\n    this.setState({ isMobileView: window.innerWidth <= 1180 });\n  }\n\n  setClickedClient(client, resetClickedClient) {\n    if (resetClickedClient) return { id: '', name: '', type: '', list: [] };\n    else if ((client.type === 'category' || client.type === 'more') && client.list.length === 1)\n      return client.list[0];\n    else return client;\n  }\n\n  containsCategory(client) {\n    if (client.type === 'client') return false;\n    if (client.type === 'root') return true;\n    if (client.list[0].type === 'category') return true;\n  }\n\n  handleClick = (client, resetClickedClient = false) => {\n    const employees = getObjects(client.employees, this.state.employees);\n    const annularSectors = client.list.length === 0 ? [client] : getLargestClients(client.list);\n    console.log(annularSectors)\n    const clients = client.list.length === 0 ? null :\n      getObjects(client.clients, this.state.unsortedClients);\n    const projects = getObjects(client.projects, this.state.projects).sort((a, b) => b.hours - a.hours);\n    const skillList = [];\n    employees.forEach(employee => union(skillList, employee.skills));\n    union(skillList, client.skills);\n    const skills = client.type === 'root' ? this.state.skills :\n      getObjects(skillList, this.state.skills);\n    const clickedClient = this.setClickedClient(client, resetClickedClient);\n    const currentView = client.type === 'more' ? client.category :\n      clickedClient.id === '' ? client.name : clickedClient.name;\n    const filteredProjects = brushObjectByDate(projects, this.state.datesBrushed[0], this.state.filterPosition[0], this.state.filterPosition[1]);\n    const filteredEmployees = client.type === 'root' ? \n      resetBrushedDisplay(this.state.employees) : \n      getBrushedProjectsEmployees(filteredProjects, this.state.employees);\n    const filteredClients = client.list.length === 0 || client.list === null ? [client] : reCalculateClientHours(clients, filteredProjects);\n    const displayTimeline = this.containsCategory(client) ? false : true;\n    this.setState({\n      currentView,\n      clickedClient,\n      filteredClients,\n      filteredProjects,\n      filteredEmployees,\n      displayTimeline,\n      refreshLegends: !this.state.refreshLegends\n    });\n    this.unHighlightElements(annularSectors, projects, employees, skills);\n  }\n\n  render() {\n    const mobileView = (\n      <div className='mobile-message'>\n        <div className='logo d-flex large'>\n          <div className='spacing-h small' />\n          <h1>FindOut Visualization</h1>\n        </div>\n        <div className='spacing' />\n        <p>\n          Please visit us from a desktop, this visualization is not\n          responsive....\n        </p>\n      </div >\n    );\n\n    const header = <Header\n      clients={this.state.clients}\n      projects={this.state.projects}\n      employees={this.state.employees}\n      skills={this.state.skills}\n      clickedClient={this.state.clickedClient}\n      breadcrumbClick={this.handleClick}\n      showObjectInformation={this.modifyDialogueInfo}\n      toggleDialogue={this.toggleDialogue}\n      addSelectedObject={this.addSelectedObject}\n      selectedObjects={this.state.selectedObjects}\n      removeSelectedObject={this.removeSelectedObject}\n      getProjectLogo={this.getProjectLogo}\n\n    />;\n    const title = <Title\n      title={this.state.currentView}\n      isHighlighted={\n        this.state.highlightedClient ||\n        this.state.highlightedProject ||\n        this.state.highlightedEmployee\n      }\n    />;\n    const legend = <Legend\n      projectsCount = {this.state.projectsCount}\n      clients={this.state.filteredClients}\n      projects={this.state.filteredProjects}\n      employees={this.state.filteredEmployees}\n      skills={this.state.filteredSkills}\n      client={this.state.highlightedClient}\n      project={this.state.highlightedProject}\n      employee={this.state.highlightedEmployee}\n      overEvent={this.highlightElements}\n      outEvent={this.unHighlightElements}\n      refreshLegends={this.state.refreshLegends}\n    />;\n    const dialogue = <Dialogue\n      dialogueIsShown={this.state.dialogueIsShown}\n      toggleDialogue={this.toggleDialogue}\n      dialogueInfo={this.state.dialogueInfo}\n    />;\n    const timeline = <VizTimeline\n      size={this.state.size}\n      displayTimeline={this.state.displayTimeline}\n      filterPosition={this.state.filterPosition}\n      totalProjectsMonths={this.state.totalProjectsMonths}\n      range={this.state.range}\n      annularSectors={this.state.annularSectors}\n      projects={this.state.filteredProjects}\n      employees={this.state.filteredEmployees}\n      selectProject={this.showProject}\n      mouseOutProject={this.unHighlightElements}\n      modifyRange={this.brushDates}\n      formatDate={this.getDateFormated}\n    />;\n    const vizCircle = <VizCircle\n      annularSectors={this.state.annularSectors}\n      clients={this.state.filteredClients}\n      employees={this.state.filteredEmployees}\n      projects={this.state.filteredProjects}\n      skills={this.state.filteredSkills}\n      size={this.state.size}\n      mouseOnClient={this.showClient}\n      mouseOnEmployee={this.showEmployee}\n      mouseOnProject={this.showProject}\n      unHighlightElements={this.unHighlightElements}\n      clientClick={this.handleClick}\n      toggleDialogue={this.toggleDialogue}\n    />;\n    return (\n      <React.Fragment>\n        {this.state.isMobileView ? mobileView : this.state.isLoading ? <Loader /> :\n          <React.Fragment>\n            {header}\n            {title}\n            {legend}\n            {dialogue}\n            {vizCircle}\n            {timeline}\n          </React.Fragment>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Main;","import React, { Component } from \"react\";\nimport { Navbar, Button } from \"react-bootstrap\";\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  \n  render() {\n    const { history } = this.props;\n    return (\n      <div>\n        <Button className=\"backBtn\" onClick={()=> history.goBack()} >\n          <i className=\"fas fa-angle-double-left\"></i>Back\n        </Button>\n        <Navbar className=\"header\" variant=\"header\" expand=\"lg\">\n          <div className=\"h-row\">\n            <img\n              src=\"../img/logos/FindOut.png\"\n              alt=\"FindOut\"\n              className=\"brandLogo\"\n            />\n          </div>\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\n\nclass Loader extends React.Component {\n  render() {\n    return ( \n      <div className='loader'>\n        <p className='spinner'></p>\n      </div>\n    );\n  }\n}\n\nexport default Loader;","import ColorThief from \"color-thief\";\n\n/* To get employee igame*/\nconst profileImageGetter = ({ firstName, lastName }) => {\n  const imagePath = `img/employees/${[firstName, lastName]\n    .join(\"_\")\n    .replace(/\\s/g, \"_\")}.jpg`;\n  return `${process.env.PUBLIC_URL}/${imagePath}`;\n};\n\n/* To get logo image */\nconst logoImageGetter = ({ client }) => {\n  const imagePath = `img/logos/${client.trim().replace(/\\s/g, \"_\")}.png`;\n\n  return `${process.env.PUBLIC_URL}/${imagePath}`;\n};\n\n/* To get category image */\nconst categoryImageGetter = category => {\n  const imagePath = `img/categories/${category\n    .trim()\n    .replace(/\\s/g, \"_\")}.png`;\n\n  return `${process.env.PUBLIC_URL}/${imagePath}`;\n};\n\n/* To get skills logo image */\nconst skillsLogoGetter = (src) => {\n  return new Promise((resolve, reject) => {\n    let img = new Image();\n    img.onload = () => resolve();\n    img.onerror = () => reject();\n    img.src = `${process.env.PUBLIC_URL}${src}`;\n  });\n}\n\n/* To get color */\nconst colorGetter = ( logoUrl ) => {\n  return new Promise((resolve, reject) => {\n    let colorThief = new ColorThief();\n    let img = new Image();\n    img.src = logoUrl;\n    img.onload = () => {\n      let dominantColor = colorThief.getColor(img);\n      dominantColor = dominantColor.map(x => {\n        x = parseInt(x).toString(16);\n        return (x.length === 1) ? '0' + x : x;\n      });\n      resolve(`#${dominantColor.join('')}`);\n    };\n    img.onerror = () => reject('#3E5641');\n  });\n}\n\n\n\nexport {\n  profileImageGetter,\n  logoImageGetter,\n  categoryImageGetter,\n  skillsLogoGetter,\n  colorGetter\n};\n","import React, { Component } from \"react\";\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport { profileImageGetter } from '../../../server/employee/utilities/index';\n\nexport default class Profile extends Component {\n  addDefaultSrc(ev){\n    ev.target.src = `${process.env.PUBLIC_URL}/img/employees/employee_placeholder.jpg`;\n  }\n\n  render() {\n    const {firstName, lastName, location, role, description } = this.props.profile;\n\n    const image = profileImageGetter({ firstName, lastName });\n\n    return (\n      <Container className=\"profile\">\n        <Row>\n          <Col>\n            <img src={image} onError={this.addDefaultSrc} alt={`${firstName} ${lastName}`} />\n          </Col>\n          <Col>\n            <Row>\n              <h1>{firstName} {lastName}</h1>\n            </Row>\n            <Row>\n              <h4>{role}</h4>\n            </Row>\n            <Row>\n              <h5>Location: {location}</h5>\n            </Row>\n          </Col>\n          \n        </Row>\n            <div className=\"description\">{description}</div>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\n\nclass Dialogue extends React.Component {\n  setText(data) {\n    return (\n      <div>\n        <p>\n          <span className=\"bold\">Client: </span>\n          <br></br>\n          {data.client}\n        </p>\n        <p>\n          <span className=\"bold\">Start date: </span>\n          <br></br>\n          {data.startDate}\n        </p>\n        <p>\n          <span className=\"bold\">End date: </span>\n          <br></br>\n          {data.endDate}\n        </p>\n        <p>{data.description}</p>\n      </div>\n    );\n  }\n\n  render() {\n    const { dialogueIsShown, dialogueInfo } = this.props;\n    const data = dialogueInfo;\n    console.log(data)\n    const text = data ? this.setText(data) : <div />;\n\n    return (\n      <div>\n        <div className={dialogueIsShown ? \"dialogueBarchart\" : \"dialogue hidden\"}>\n          <div className=\"identification\">\n            {data ? (\n              <img src={data.img} alt={data.name} />\n            ) : (\n              <i className=\"fas fa-laptop-code\"></i>\n            )}\n            <div className=\"spacing x-small\"></div>\n            <h2>{data ? data.name : \"\"}</h2>\n          </div>\n          <div className=\"information\">{text}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dialogue;\n","import React, { Component } from \"react\";\nimport { groupedProjects } from \"./drawChart\";\nimport Dialogue from \"./Dialogue\";\nimport * as d3 from \"d3\";\n\nclass BarChart extends Component {\n  constructor(props) {\n    super(props);\n    const { data } = this.props;\n\n    const { grouped } = groupedProjects(data);\n    this.state = {\n      data: grouped,\n      width: 800,\n      height: 650,\n      recentData: [],\n      dialogueIsShown: false\n    };\n    this.showProject = this.showProject.bind(this);\n  }\n  componentDidMount() {\n    this.chart();\n  }\n\n\n  showProject = data => {\n    this.setState({ dialogueIsShown: !this.state.dialogueIsShown });\n    if (this.state.recentData !== data) {\n      this.setState({ dialogueIsShown: true });\n    }\n    this.setState({\n      recentData: data\n    });\n  };\n\n  chart = () => {\n    let barPadding = 10;\n    let rangeBands = [];\n    let cummulative = 0;\n\n    const data = Object.keys(this.state.data).map((companyName, i) => {\n      let returnValue = {\n        values: this.state.data[companyName],\n        companyName: companyName,\n        cummulative: cummulative,\n      };\n      cummulative += this.state.data[companyName].length;\n      \n      this.state.data[companyName].map(value => {\n        returnValue['color'] = value.color;\n        rangeBands.push(i);\n      });\n      return returnValue;\n    });\n    \n    console.log(this.state.data)\n    const margin = { top: 20, right: 20, bottom: 60, left: 190 },\n      width = this.state.width - margin.left - margin.right,\n      height = this.state.height - margin.top - margin.bottom;\n\n    let svg = d3\n      .select(\".rowChart\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    // The scale spacing the groups:\n    const y_category = d3.scaleLinear().rangeRound([0,\n        cummulative > 8 ? height  : cummulative < 4 ? 150 : 400\n    ]);\n\n    const y_defect = d3\n    .scaleBand()\n    .rangeRound([0, height], 0.1)\n    .domain(rangeBands);\n\n    const y_category_domain = y_defect.bandwidth() * rangeBands.length ;\n  \n    y_category.domain([0, y_category_domain]);\n\n    const x = d3.scalePow().range([0, width]);\n\n    x.domain([\n      0,\n      d3.max(data, function(d) {\n        return d3.max(d.values, function(key) {\n          return Math.ceil(key.projectPeriod);\n        });\n      })\n    ]);\n\n    const xAxis = d3.axisBottom().scale(x);\n    xAxis.ticks(5).tickSize(- height - 5).tickPadding([10]);\n\n    svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .attr(\"class\", \"x axis\")\n      .call(xAxis)\n      .append(\"text\")\n      .attr(\"dy\", \".10em\")\n      .attr(\"fill\", \"#000\")\n      .style(\"text-anchor\", \"end\")\n      .text(\"Year\")\n      .attr(\"transform\", \"translate( -20 , 15 )\");\n\n    let category_g = svg\n      .selectAll(\".category\")\n      .data(data)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", function(d) {\n          return \"category category-\" + d.companyName;\n      })\n      .attr(\"transform\", function(d) {\n        return (\n          \"translate(0,\" + \n          y_category(d.cummulative * y_defect.bandwidth()) +\n          \")\"\n        );\n      })\n      .attr(\"fill\", function(d) {\n          return d.color;\n      });\n\n      category_g\n      .selectAll(\".category-label\")\n      .data(function(d) {\n        return [d];\n      })\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", function(d) {\n        return \"category-label category-label-\" + d.companyName;\n      })\n      .attr(\"transform\", function(d) {\n        var x_label = y_category(\n          (d.values.length * y_defect.bandwidth() + barPadding) / 2 + 4\n        );\n        var y_label = -5;\n        return \"translate(\" + y_label + \",\" + x_label + \")\";\n      })\n      .text(function(d) {\n        return d.companyName;\n      })\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"fill\", \"#000\");\n\n    let defect_g = category_g\n      .selectAll(\".defect\")\n      .data(function(d) {\n        return d.values;\n      })\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", function(d) {\n        return \"defect defect-\" + d.name;\n      })\n      .attr(\"transform\", function(d, i) {\n        return \"translate(0,\" + y_category(i * y_defect.bandwidth()) + \")\";\n      });\n\n      defect_g\n      .selectAll(\".rect\")\n      .data(function(d) {\n        return [d];\n      })\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"rect\")\n      .attr(\"height\", y_category(y_defect.bandwidth() - barPadding))\n      .attr(\"y\", function(d) {\n        return y_category(barPadding);\n      })\n      .attr(\"x\", x(0))\n      .attr(\"width\", function(d) {\n        return x(d.projectPeriod);\n      }) \n      .on(\"mouseover\", function() {\n        d3.select(this).style(\"opacity\", 0.5);\n      })\n      .on(\"mouseout\", function() {\n        d3.select(this).style(\"opacity\", 1);\n      })\n      .on(\"click\", d => {\n        this.showProject(d);\n      });\n\n  };\n  \n\n  render() {\n    return (\n      <div className=\"rowChart\">\n        <Dialogue\n          dialogueInfo={this.state.recentData}\n          dialogueIsShown={this.state.dialogueIsShown}\n        />\n      </div>\n    );\n  }\n}\n\nexport default BarChart;\n","function groupedProjects(data){\nconst grouped = {};\nfor (let client of data) {\n  if (!(client.client in grouped)) grouped[client.client] = [client];\n  else grouped[client.client].push(client);\n}\n\n\nreturn {grouped}\n\n}\n\nexport { groupedProjects };","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nconst width = \"100%\";\nconst height = 700;\nclass BubbleChart extends Component {\n  constructor(props) {\n    super(props);\n    const { technologies } = this.props;\n    const categoryDataList = [];\n    const legendList = {};\n\n    for (let value of technologies) {\n      if (!(value.category in categoryDataList))\n        categoryDataList[value.category] = [value];\n      else categoryDataList[value.category].push(value);\n    }\n\n    for (let catValue of technologies) {\n      legendList[catValue.category] = catValue.color;\n    }\n\n    let firstCategory = Object.keys(legendList)[0];\n\n    this.state = {\n      showData: [],\n      legend: legendList,\n      currentCategory: firstCategory,\n      categoryDataList: categoryDataList\n    };\n  }\n\n  componentDidMount() {\n    this.drawBubble(this.state.currentCategory);\n  }\n\n  onClicked = currentCategory => {\n    this.setState({ currentCategory: currentCategory });\n    this.drawBubble(currentCategory);\n  };\n\n  drawBubble = currentCategory => {\n    let data =  currentCategory === 'All' ? \n    this.props.technologies : this.state.categoryDataList[currentCategory];\n\n    data = data.filter(value =>{\n      return value.category !== 'All'\n    })\n\n    const countCat = data.length;\n    let svg = d3.select(\".bubble\");\n    let width = document.body.clientWidth; // get width in pixels\n    let height = +svg.attr(\"height\");\n    let centerX = width * 0.5;\n    let centerY = height * 0.5;\n    let strength = 0.04;\n    let focusedNode;\n    // use pack to calculate radius of the circle\n    let pack = d3\n      .pack()\n      .size([width, height])\n      .padding(1.6);\n    let forceCollide = d3.forceCollide(d => d.r);\n    // use the force\n    let simulation = d3\n      .forceSimulation()\n      .force(\"charge\", d3.forceManyBody())\n      .force(\"collide\", forceCollide)\n      .force(\"center\", d3.forceCenter(centerX, centerY))\n      .force(\"x\", d3.forceX(centerX).strength(strength))\n      .force(\"y\", d3.forceY(centerY).strength(strength));\n\n    let root = d3.hierarchy({ children: data }).sum(d => d.value);\n\n    // use pack() to automatically calculate radius conveniently only\n    // and get only the leaves\n    let nodes = pack(root)\n      .leaves()\n      .map(node => {\n        // console.log(\"node:\", node.x, (node.x - centerX) * 2);\n        const data = node.data;\n      \n        return {\n          x: centerX + (node.x - centerX) * 2, // magnify start position to have transition to center movement\n          y: centerY + (node.y - centerY) * 2,\n          r: 0, // for tweening\n          R: data.color.R,\n          G: data.color.G,\n          B: data.color.B,\n          radius:  countCat > 70 ? 30 : countCat > 30 ? 40 : 50, //original radius\n          id: data.category + \".\" + data.name.replace(/\\s/g, \"-\"),\n          cat: data.category,\n          name: data.name,\n          icon: data.icon\n        };\n      });\n      \n      console.log(data.category)\n    simulation.nodes(nodes).on(\"tick\", ticked);\n\n    d3.selectAll(\".node\").remove();\n\n\n    let node = svg\n      .selectAll(\".node\")\n      .data(nodes)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"node\")\n      .call(\n        d3\n          .drag()\n          .on(\"start\", d => {\n            if (!d3.event.active) simulation.alphaTarget(0.2).restart();\n            d.fx = d.x;\n            d.fy = d.y;\n          })\n          .on(\"drag\", d => {\n            d.fx = d3.event.x;\n            d.fy = d3.event.y;\n          })\n          .on(\"end\", d => {\n            if (!d3.event.active) simulation.alphaTarget(0);\n            d.fx = null;\n            d.fy = null;\n          })\n      );\n\n    \n    node\n      .append(\"circle\")\n      .attr(\"id\", d => d.id)\n      .attr(\"r\", 0)\n      .style(\"fill\", d => `rgb(${d.R},${d.G},${d.B})`)\n      .transition()\n      .duration(2000)\n      .ease(d3.easeElasticOut)\n      .tween(\"circleIn\", d => {\n        let i = d3.interpolateNumber(0, d.radius);\n        return t => {\n          d.r = i(t);\n          simulation.force(\"collide\", forceCollide);\n        };\n      });\n\n    node\n      .append(\"text\")\n      .selectAll(\"tspan\")\n      .data(d => d.name.split(\" \"))\n      .enter()\n      .append(\"tspan\")\n      .style(\"fill\", \"#fff\")\n      .style(\"font-size\", countCat > 70 ? \"0.8em\" : countCat > 30 ? \"1em\" : \"1.2em\")\n      .attr(\"x\", 0)\n      .attr(\"y\", (d, i, nodes) => 13 + (i - nodes.length / 2 - 0.5) * 12)\n      .text(name => name);\n\n    node\n      .filter(d => String(d.icon).includes(\"img/\"))\n      .append(\"image\")\n      .classed(\"node-icon hidden\", true)\n      .attr(\"xlink:href\", d => d.icon)\n      .attr(\"x\", d => -d.radius * 0.6)\n      .attr(\"y\", d => -d.radius * 0.1)\n      .attr(\"height\", d => d.radius * 2 * 0.6)\n      .attr(\"width\", d => d.radius * 2 * 0.6);\n\n    node\n      .append(\"title\")\n      .selectAll(\"circle-overlay_title\")\n      .data(d => d.name.split(\" \"))\n      .style(\"fill\", \"#fff\")\n      .style(\"font-size\", \"1.9em\")\n      .attr(\"x\", 0)\n      .attr(\"y\", (d, i, nodes) => 13 + (i - nodes.length / 2 - 0.5) * 12)\n      .text(d => d.name);\n\n    node.on(\"click\", currentNode => {\n      d3.event.stopPropagation();\n      let newColorR = currentNode.R - 50;\n      let newColorG = currentNode.G - 50;\n      let newColorB = currentNode.B - 50;\n      console.log(\"currentNode\", currentNode);\n      let currentTarget = d3.event.currentTarget; // the <g> el\n      if (currentNode === focusedNode) {\n        // no focusedNode or same focused node is clicked\n        return;\n      }\n\n      d3.select(currentTarget)\n        .select(\"circle\")\n        .style(\"fill\", `rgb(${newColorR},${newColorG},${newColorB})`);\n      d3.selectAll(\".node-icon\").classed(\"hidden\", true);\n\n      let lastNode = focusedNode;\n      console.log(lastNode);\n      focusedNode = currentNode;\n      simulation.alphaTarget(0.2).restart();\n      // hide all circle-overlay\n      console.log(currentTarget);\n      // d3.select(\"tspan\").classed(\"circle-overlay\", true);\n      // d3.selectAll(\".node-icon\").classed(\"node-icon--faded\", false);\n\n      if (lastNode) {\n        lastNode.fx = null;\n        lastNode.fy = null;\n        node\n          .filter((d, i) => i === lastNode.index)\n          .transition()\n          .duration(2000)\n          .ease(d3.easePolyOut)\n          .tween(\"circleOut\", () => {\n            let irl = d3.interpolateNumber(lastNode.r, lastNode.radius);\n            return t => {\n              lastNode.r = irl(t);\n            };\n          })\n          .on(\"interrupt\", () => {\n            console.log(\"interrupt\");\n            lastNode.r = lastNode.radius;\n          })\n          .select(\"circle\")\n          .style(\n            \"fill\",\n            `rgb(${lastNode.R},${lastNode.G},${lastNode.B})`\n          );\n      }\n      // if (!d3.event.active) simulation.alphaTarget(0.5).restart();\n      d3.transition()\n        .duration(2000)\n        .ease(d3.easePolyOut)\n        .tween(\"moveIn\", () => {\n          console.log(\"tweenMoveIn\", currentNode);\n          let ix = d3.interpolateNumber(currentNode.x, centerX);\n          let iy = d3.interpolateNumber(currentNode.y, centerY);\n          let ir = d3.interpolateNumber(currentNode.r, centerY * 0.2);\n          return function(t) {\n            // console.log('i', ix(t), iy(t));\n            currentNode.fx = ix(t);\n            currentNode.fy = iy(t);\n            currentNode.r = ir(t);\n            simulation.force(\"collide\", forceCollide);\n          };\n        })\n        .on(\"end\", () => {\n          simulation.alphaTarget(0);\n          d3.select(currentTarget)\n            .select(\".node-icon\")\n            .classed(\"hidden\", false);\n        })\n        .on(\"interrupt\", () => {\n          console.log(\"move interrupt\", currentNode);\n          currentNode.fx = null;\n          currentNode.fy = null;\n          simulation.alphaTarget(0);\n          d3.select(currentTarget)\n            .select(\"circle\")\n            .style(\n              \"fill\",\n              `rgb(${currentNode.R},${currentNode.G},${currentNode.B})`\n            );\n        });\n    });\n   \n  \n\n    // d3.select(\".bubble\").on(\"click\", () => {\n    //   let target = d3.event.target;\n    //   // check if click on document but not on the circle overlay\n    //   if (!target.closest(\"#circle-overlay\") && focusedNode) {\n    //     console.log(focusedNode);\n    //     console.log(\"out\");\n    //     focusedNode.fx = null;\n    //     focusedNode.fy = null;\n    //     simulation.alphaTarget(0.2).restart();\n\n    //     d3.select(\"circle\").style(\n    //       \"fill\",\n    //       `rgb(${focusedNode.R},${focusedNode.G},${focusedNode.B})`\n    //     );\n\n    //     d3.transition()\n    //       .duration(2000)\n    //       .ease(d3.easePolyOut)\n    //       .tween(\"moveOut\", function() {\n    //         console.log(\"tweenMoveOut\", focusedNode);\n    //         let ir = d3.interpolateNumber(focusedNode.r, focusedNode.radius);\n    //         return function(t) {\n    //           focusedNode.r = ir(t);\n    //           simulation.force(\"collide\", forceCollide);\n    //         };\n    //       })\n    //       .on(\"end\", () => {\n    //         console.log(\"end\");\n    //         focusedNode = null;\n    //         simulation.alphaTarget(0);\n    //       })\n    //       .on(\"interrupt\", () => {\n    //         console.log(\"interrupt\");\n    //         simulation.alphaTarget(0);\n    //       });\n\n    //     // hide all circle-overlay\n    //     // d3.selectAll(\".circle-overlay\").classed(\"hidden\", true);\n    //     // d3.selectAll(\".node-icon\").classed(\"node-icon--faded\", false);\n    //   }\n    //   console.log('out side')\n    //   d3.select(\"circle\").style(\n    //     \"fill\",\n    //     `rgb(${focusedNode.R},${focusedNode.G},${focusedNode.B})`\n    //   );\n    // });\n\n    function ticked() {\n      node\n        .attr(\"transform\", d => `translate(${d.x},${d.y})`)\n        .select(\"circle\")\n        .attr(\"r\", d => d.r);\n    }\n  };\n\n  render() {\n    const categoryBtn = Object.keys(this.state.legend).map((cat, i) => {\n      let rgbColor = this.state.legend[cat];\n      return (\n        <button\n          className={`${\n            this.state.currentCategory === cat\n              ? \"underline\"\n              : \"underline hidden\"\n          } btn secondary`}\n          key={i}\n          id={cat}\n          onClick={() => this.onClicked(cat)}\n          style={{\n            backgroundColor: `rgb(${rgbColor.R},${rgbColor.G},${rgbColor.B})`\n          }}\n        >\n          {cat}\n        </button>\n      );\n    });\n\n    console.log(categoryBtn);\n\n    return (\n      <div>\n        <div className=\"bubbleLegend\">{categoryBtn}</div>\n        <svg\n          className=\"bubble\"\n          width={width}\n          height={height}\n          textAnchor=\"middle\"\n        ></svg>\n      </div>\n    );\n  }\n}\n\nexport default BubbleChart;\n","import { colorGetter, categoryImageGetter } from \"../../../server/employee/utilities/index\";\n\nfunction calculatePercentage(projects) {\n \n  const projectCategoryNames = projects.map(project => project.category);\n  const percentage = 100 / projectCategoryNames.length;\n  const projectCategoryPercentages = {};\n  projectCategoryNames.map(project => {\n    if (projectCategoryPercentages[project]) {\n      return (projectCategoryPercentages[project] =\n        projectCategoryPercentages[project] + percentage);\n    } else {\n      return (projectCategoryPercentages[project] = percentage);\n    }\n  });\n  return Object.keys(projectCategoryPercentages).map(key => {\n    return {\n      value: projectCategoryPercentages[key],\n      label: key,\n   \n    };\n  });\n}\n\nasync function getCategoryLogoColor(projects){\n    const grouped = {};\n    for (let client of projects) {\n      if (!(client.category in grouped)) grouped[client.category] = [client];\n      else grouped[client.category].push(client);\n    }\n  \n    let color;\n    let arrayColor = [];\n    for (let category in grouped) {\n      let categoryLogo = categoryImageGetter(category);\n      try {\n        color = await colorGetter(categoryLogo);\n      } catch (error) {\n        color = \"\";\n      }\n      arrayColor.push(color);\n    }\n    return arrayColor\n}\n\nexport { calculatePercentage, getCategoryLogoColor};\n","import React from \"react\";\nimport * as d3 from \"d3\";\n\nconst Slice = props => {\n  const { pie } = props;\n\n  let arc = d3\n    .arc()\n    .innerRadius(0)\n    .outerRadius(150);\n\n  return pie.map((slice, index) => {\n    let { color } = slice.data.value;\n    return (\n      <g key={index}>\n        <path d={arc(slice)} fill={color} />\n      </g>\n    );\n  });\n};\n\nexport { Slice };\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport { calculatePercentage, getCategoryLogoColor } from \"./action\";\nimport { Slice } from \"./Slice\";\n\nconst height = 400;\nconst width = 400;\n\nclass CategoryPieChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      d3Data: [],\n      d3Color: []\n    };\n  }\n\n  async componentDidMount() {\n    const { projects } = this.props;\n    const d3Data = calculatePercentage(projects);\n    const d3Color = await getCategoryLogoColor(projects);\n    this.setState({ d3Data: d3Data, d3Color: d3Color });\n  }\n\n  render() {\n    const { d3Data, d3Color } = this.state;\n\n    for (let i = 0; i < d3Data.length; i++) {\n      d3Data[i].color = d3Color[i];\n    }\n\n    const pie = d3\n      .pie()\n      .sort(null)\n      .value(function(d) {\n        return d.value.value;\n      });\n    const data_ready = pie(d3.entries(d3Data));\n    return (\n      <div>\n        <svg height={height} width={width}>\n          <g transform={`translate(${width / 2},${height / 2})`}>\n            <Slice pie={data_ready} width={width} height={height} />\n          </g>\n        </svg>\n        <div className=\"legendBox\">\n        {data_ready.map((e, i) => {\n          return (\n            <div key={i}>\n              <span\n                style={{ backgroundColor: e.data.value.color }}\n                className=\"chart-label\"\n              ></span>\n              <span>{e.data.value.label}</span>\n            </div>\n          );\n        })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { CategoryPieChart };\n","import React from 'react'\n\nconst MobileView = () => (\n   <div className=\"mobile-message\">\n      <div className=\"logo d-flex large\">\n        <div className=\"spacing-h small\" />\n        <h1>FindOut Visualization</h1>\n      </div>\n      <div className=\"spacing\" />\n      <p>\n        Please visit us from a desktop, this visualization is not\n        responsive....\n      </p>\n    </div>\n)\n\nexport default MobileView;\n","import axios from 'axios'\n\n  const api_URL = ``;\n  export  async function fetchData(id){\n\n    const employeeApiRequest = `${api_URL}/employee?id=${id}`;\n\n        const options = {\n            url: employeeApiRequest,\n            responseType: \"json\",\n            method: 'GET',\n          };\n        \n          let response;\n          try {\n            response = await axios(options);\n          } catch (error) {\n            return {};\n          }\n        if(response.status === 200){\n            return response.data;\n        }\n    }\n\n\n  ","import { fetchData } from \"./api\";\nimport { colorGetter, skillsLogoGetter } from \"./utilities/index\"\nimport moment from \"moment\";\n\nconst dateFormat = \"YYYY-MM-DD\";\n\nexport async function getData(id) {\n  const employee = await fetchData(id);\n  if (!employee) return Error;\n\n  const { projects } = employee; \n  const { technologies } = employee;\n\n  /*-------------------   Barchart -------------------------- */\n  let projectsBarChart = [];\n  for (let project of projects) {\n    const { startDate, endDate, endDateList, startDateList } = getDates(\n      project.startDates,\n      project.endDates\n    );\n    const duration =\n      Math.floor(\n        moment.duration(moment(endDate).diff(moment(startDate))).asMonths()\n      ) / 12;\n    let imageSrc = `/img/logos/${project.client\n      .trim()\n      .replace(/\\s/g, \"_\")}.png`;\n    let color;\n    try {\n      color = await colorGetter(imageSrc);\n    } catch (error) {\n      color = \"#3E5641\";\n      imageSrc = \"/img/logos/company_placeholder.png\";\n    }\n\n    projectsBarChart.push({\n      id: project.id,\n      name: project.name,\n      category: project.category,\n      client: project.client,\n      startDate: startDate,\n      endDate:\n        endDateList.length !== startDateList.length ? \"Ongoing\" : endDate,\n      description: project.description,\n      img: imageSrc,\n      color: color,\n      projectPeriod: duration\n    });\n  }\n\n  function getDates(startDates, endDates) {\n    const startDateList = startDates.split(\",\").map(date => date.trim());\n    const endDateList = endDates\n      ? endDates.split(\",\").map(date => date.trim())\n      : [];\n    const startDate = startDateList[0];\n    let endDate;\n    if (startDateList.length === endDateList.length) {\n      // Number of days doesn't always correspond to the month\n      const endDateSplitted = endDateList[endDateList.length - 1].split(\"-\");\n      const year = endDateSplitted[0];\n      const month = endDateSplitted[1];\n      endDate = moment(`${year}-${month}`)\n        .endOf(\"month\")\n        .format(dateFormat);\n    } // Ongoing project\n    else endDate = moment().format(dateFormat);\n    return { startDate, endDate, endDateList, startDateList };\n  }\n\n  /*-------------------   Bubblechart -------------------------- */\n  let technology = [];\n\n //Colors of labels on bubblechart\n  function getColor(category){\n    switch (category) {\n      case 'Web':\n        return { R: 214, G: 142, B: 122 }\n      case 'Tools':\n        return { R: 78, G: 179, B: 114 }\n      case 'Database':\n        return { R: 209, G: 199, B: 54 }\n      case 'Graphical':\n        return { R: 216, G: 87, B: 98 }\n      case 'Programming/Skills':\n        return { R: 59, G: 89, B: 115 }\n      case 'Productivity':\n        return { R: 222, G: 143, B: 76 }\n      case 'Framework':\n        return { R: 124, G: 105, B: 144 }\n      case 'Methodology':\n        return { R: 71, G: 154, B: 139 }\n      case 'Environment':\n        return { R: 170, G: 110, B: 40 }\n      case 'Other':\n        return { R: 117, G: 165, B: 214 }\n      case 'All':\n        return { R: 154, G: 58, B: 58 }\n      default:\n        return category;\n    }\n  }\n \n    //Make new object\n    for (let tech in technologies) {\n      let skills = technologies[tech];\n\n      console.log(tech);\n      for (let name of skills) {\n        let img = `../img/skills/${name.trim().replace(/\\s/g, \"_\")}.png`;\n        try {\n          await skillsLogoGetter(img);\n        } catch {\n          img = name;\n        }\n        technology.push({\n          category: tech,\n          name: name,\n          color: getColor(tech),\n          icon: img,\n          value: 1\n        });\n      }\n    }\n\n    //Check if technologies is empty object or not. \n    //If it is empty object then it doesn't add category All\n    if(Object.entries(technologies).length !== 0){\n      technology.push({\n        category: 'All',\n        name: 'all',\n        color:getColor('All'),\n      })\n    }\n  \n  //Sort in descending order\n  const categoryDataList = [];\n  for (let value of technology) {\n    if (!(value.category in categoryDataList))\n      categoryDataList[value.category] = [value];\n    else categoryDataList[value.category].push(value);\n  }\n  technology.sort(function(a, b) {\n    return (\n      categoryDataList[b.category].length - categoryDataList[a.category].length\n    );\n  });\n\n  return {\n    employeeProfile: employee,\n    projects: projects,\n    projectsBarChart: projectsBarChart,\n    technology: technology\n  };\n}\n","import React from \"react\";\nimport \"../styles/employee.scss\"\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport Header from \"../components/employee/header/Header\";\nimport Loader from \"../components/employee/loader/Loader\";\nimport Profile from \"../components/employee/profile/Profile\";\nimport BarChart from \"../components/employee/barChart/BarChart\";\nimport BubbleChart from \"../components/employee/bubbleChart/BubbleChart\"\nimport { CategoryPieChart } from \"../components/employee/pieChart/CategoryPieChart\";\nimport MobileView from \"../components/employee/mobileView/MobileView\";\nimport { getData } from \"../server/employee/index\";\n\nclass Employee extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n    this.state = {\n      isLoading: true,\n      profile: {},\n      projects: [],\n      projectsBarChartData: [],\n      technologies: []\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    const id = this.props.match.params.id;\n    window.addEventListener(\"resize\", this.resize.bind(this));\n    this.resize();\n    this.setState({ isLoading: true });\n    const { employeeProfile, projects, projectsBarChart, technology } = await getData(id);\n    this.setState({\n      isLoading: false,\n      profile: employeeProfile,\n      projects: projects,\n      projectsBarChartData : projectsBarChart,\n      technologies : technology\n    });\n  }\n\n  componentWillUnmount(){\n    this._isMounted = false;\n  }\n\n  resize() {\n    this.setState({ isMobileView: window.innerWidth <= 0 });\n  }\n  \n\n  render() {\n\n    return (\n       <React.Fragment>\n        {this.state.isMobileView ? (\n          <MobileView />\n        ) : this.state.isLoading ? (\n          <Loader />\n        ) : (\n          <Container>\n            <Header history={this.props.history}/>\n            <Row>\n              <Col xs={12} md={8}>\n                <Profile\n                  profile={this.state.profile}\n                  projects={this.state.projects}\n                />\n              </Col>\n              <Col xs={6} md={4}>\n                <CategoryPieChart projects={this.state.projects} />\n              </Col>\n            </Row>\n            {\n              this.state.projectsBarChartData.length === 0 ? '' : \n            <BarChart data={this.state.projectsBarChartData} />\n            }\n            {\n              Object.entries(this.state.technologies).length === 0 ? '' :\n            <BubbleChart technologies={this.state.technologies}/>\n            }\n          </Container>\n        )}\n      </React.Fragment> \n    );\n  }\n}\n\nexport default Employee;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Main from \"./pages/Main\";\nimport EmployeeView from \"./pages/EmployeeView\";\n\n\nconst App = () => (\n  <Router>\n    <div className=\"app\">\n      <Route exact path=\"/employeeview/:id\" render={(props) => <EmployeeView {...props}/>} />\n      <Route exact path=\"/\" render={() => <Main />} />\n    </div>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}